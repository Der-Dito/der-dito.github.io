import{aB as zo,k as re,q as Qe,u as tn,s as Jo,d as Pt,o as j,a6 as se,C as g,aC as Yo,ab as de,aD as Ko,aE as Xo,r as rn,a as y,w as _,aF as Nr,a8 as Me,a7 as He,V as L,a3 as U,aG as Zo,aH as ei,aI as ti,aJ as ri,Q as Oe,c as te,au as st,D as le,aw as lt,ac as Dt}from"./index.8ba13c56.js";import{f as qe,e as sr,Q as Et,a as Ot,c as ye}from"./QSeparator.8ae66945.js";import{Q as ue,a as Ve}from"./QCardActions.f7f7ad28.js";import{Q as xe}from"./QCard.da8c2f8f.js";import{Q as ni}from"./QPage.c8a02d65.js";import{Q as Ye}from"./QDialog.d52db0b2.js";import{C as nn}from"./CreateNewGroup.d71c0aa6.js";import{_ as cr}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as ai,a as or,b as Wr,G as an}from"./GroupViewOwner.88fdc9d2.js";import{a as on,Q as oi}from"./QInput.423eebcf.js";import{Q as ii,a as ir}from"./QStepper.8fe8e1d2.js";import{Q as lr}from"./QTable.c7f9088e.js";import{C as Le}from"./ClosePopup.2a254c95.js";import"./use-key-composition.e65c3dea.js";import"./scroll.2aa122b3.js";import"./QResizeObserver.8f5d8891.js";import"./QToggle.f7eed9dc.js";import"./use-checkbox.5c17d99e.js";import"./selection.a9d6c3ab.js";var sn=(r,a,o)=>{if(!a.has(r))throw TypeError("Cannot "+o)},Qr=(r,a,o)=>(sn(r,a,"read from private field"),o?o.call(r):a.get(r)),si=(r,a,o)=>{if(a.has(r))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(r):a.set(r,o)},li=(r,a,o,c)=>(sn(r,a,"write to private field"),a.set(r,o),o);const ln=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],ci=[...ln,["unknown"]].map(r=>r[0]),$t=new Map(ln);function ui(r){for(const[a,o]of $t)if(r===o)return a;return"unknown"}function di(r){if(cn(r))return{width:r.naturalWidth,height:r.naturalHeight};if(un(r))return{width:r.width.baseVal.value,height:r.height.baseVal.value};if(dn(r))return{width:r.videoWidth,height:r.videoHeight};if(mn(r))return{width:r.width,height:r.height};if(pn(r))return{width:r.displayWidth,height:r.displayHeight};if(fn(r))return{width:r.width,height:r.height};if(hn(r))return{width:r.width,height:r.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function cn(r){try{return r instanceof HTMLImageElement}catch{return!1}}function un(r){try{return r instanceof SVGImageElement}catch{return!1}}function dn(r){try{return r instanceof HTMLVideoElement}catch{return!1}}function fn(r){try{return r instanceof HTMLCanvasElement}catch{return!1}}function mn(r){try{return r instanceof ImageBitmap}catch{return!1}}function hn(r){try{return r instanceof OffscreenCanvas}catch{return!1}}function pn(r){try{return r instanceof VideoFrame}catch{return!1}}function vn(r){try{return r instanceof Blob}catch{return!1}}function fi(r){try{return r instanceof ImageData}catch{return!1}}function mi(r,a){try{const o=new OffscreenCanvas(r,a);if(o.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return o;throw void 0}catch{const c=document.createElement("canvas");return c.width=r,c.height=a,c}}async function gn(r){if(cn(r)&&!await gi(r))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(un(r)&&!await yi(r))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(pn(r)&&bi(r))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(dn(r)&&(r.readyState===0||r.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(mn(r)&&_i(r))throw new DOMException("The image source is detached.","InvalidStateError");const{width:a,height:o}=di(r);if(a===0||o===0)return null;const c=mi(a,o).getContext("2d");c.drawImage(r,0,0);try{return c.getImageData(0,0,a,o)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function hi(r){let a;try{if(globalThis.createImageBitmap)a=await createImageBitmap(r);else if(globalThis.Image){a=new Image;let o="";try{o=URL.createObjectURL(r),a.src=o,await a.decode()}finally{URL.revokeObjectURL(o)}}else return r}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await gn(a)}function pi(r){const{width:a,height:o}=r;if(a===0||o===0)return null;const c=r.getContext("2d");try{return c.getImageData(0,0,a,o)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function vi(r){if(vn(r))return await hi(r);if(fi(r)){if(wi(r))throw new DOMException("The image data has been detached.","InvalidStateError");return r}return fn(r)||hn(r)?pi(r):await gn(r)}async function gi(r){try{return await r.decode(),!0}catch{return!1}}async function yi(r){var a;try{return await((a=r.decode)==null?void 0:a.call(r)),!0}catch{return!1}}function bi(r){return r.format===null}function wi(r){return r.data.buffer.byteLength===0}function _i(r){return r.width===0&&r.height===0}function qr(r,a){return r instanceof DOMException?new DOMException(`${a}: ${r.message}`,r.name):r instanceof Error?new r.constructor(`${a}: ${r.message}`):new Error(`${a}: ${r}`)}const Lr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function Ci(r){return r.join("|")}function Si(r){const a=Hr(r);let o=0,c=Lr.length-1;for(;o<=c;){const s=Math.floor((o+c)/2),p=Lr[s],h=Hr(p);if(h===a)return p;h<a?o=s+1:c=s-1}return"None"}function Hr(r){return r.toLowerCase().replace(/_-\[\]/g,"")}function xi(r,a){return r.Binarizer[a]}function Ti(r,a){return r.CharacterSet[a]}const ki=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Pi(r){return ki[r.value]}function $i(r,a){return r.EanAddOnSymbol[a]}function Ai(r,a){return r.TextMode[a]}const Ke={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function yn(r,a){return{...a,formats:Ci(a.formats),binarizer:xi(r,a.binarizer),eanAddOnSymbol:$i(r,a.eanAddOnSymbol),textMode:Ai(r,a.textMode),characterSet:Ti(r,a.characterSet)}}function bn(r){return{...r,format:Si(r.format),eccLevel:r.eccLevel,contentType:Pi(r.contentType)}}const Di={locateFile:(r,a)=>{const o=r.match(/_(.+?)\.wasm$/);return o?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.1.3/dist/${o[1]}/${r}`:a+r}};let zr=new WeakMap;function ur(r,a){var o;const c=zr.get(r);if(c!=null&&c.modulePromise&&a===void 0)return c.modulePromise;const s=(o=c==null?void 0:c.moduleOverrides)!=null?o:Di,p=r({...s});return zr.set(r,{moduleOverrides:s,modulePromise:p}),p}async function Ei(r,a,o=Ke){const c={...Ke,...o},s=await ur(r),{size:p}=a,h=new Uint8Array(await a.arrayBuffer()),w=s._malloc(p);s.HEAPU8.set(h,w);const m=s.readBarcodesFromImage(w,p,yn(s,c));s._free(w);const S=[];for(let k=0;k<m.size();++k)S.push(bn(m.get(k)));return S}async function Oi(r,a,o=Ke){const c={...Ke,...o},s=await ur(r),{data:p,width:h,height:w,data:{byteLength:m}}=a,S=s._malloc(m);s.HEAPU8.set(p,S);const k=s.readBarcodesFromPixmap(S,h,w,yn(s,c));s._free(S);const x=[];for(let V=0;V<k.size();++V)x.push(bn(k.get(V)));return x}({...Ke,formats:[...Ke.formats]});var dr=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(a={}){var o=a,c,s;o.ready=new Promise((e,t)=>{c=e,s=t});var p=Object.assign({},o),h="./this.program",w=typeof window=="object",m=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var S="";function k(e){return o.locateFile?o.locateFile(e,S):S+e}var x;(w||m)&&(m?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),r&&(S=r),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",m&&(x=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var V=o.printErr||console.error.bind(console);Object.assign(o,p),p=null,o.arguments&&o.arguments,o.thisProgram&&(h=o.thisProgram),o.quit&&o.quit;var B;o.wasmBinary&&(B=o.wasmBinary),typeof WebAssembly!="object"&&me("no native wasm support detected");var F,N=!1,W,Q,be,M,E,T,R,ae;function I(){var e=F.buffer;o.HEAP8=W=new Int8Array(e),o.HEAP16=be=new Int16Array(e),o.HEAPU8=Q=new Uint8Array(e),o.HEAPU16=M=new Uint16Array(e),o.HEAP32=E=new Int32Array(e),o.HEAPU32=T=new Uint32Array(e),o.HEAPF32=R=new Float32Array(e),o.HEAPF64=ae=new Float64Array(e)}var ce=[],he=[],pe=[];function Be(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Rt(o.preRun.shift());Bt(ce)}function It(){Bt(he)}function jt(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Xe(o.postRun.shift());Bt(pe)}function Rt(e){ce.unshift(e)}function Ut(e){he.unshift(e)}function Xe(e){pe.unshift(e)}var we=0,Re=null;function ct(e){var t;we++,(t=o.monitorRunDependencies)===null||t===void 0||t.call(o,we)}function Ae(e){var t;if(we--,(t=o.monitorRunDependencies)===null||t===void 0||t.call(o,we),we==0&&Re){var n=Re;Re=null,n()}}function me(e){var t;(t=o.onAbort)===null||t===void 0||t.call(o,e),e="Aborted("+e+")",V(e),N=!0,e+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(e);throw s(n),n}var Ft="data:application/octet-stream;base64,",ut=e=>e.startsWith(Ft),De;De="zxing_reader.wasm",ut(De)||(De=k(De));function dt(e){if(e==De&&B)return new Uint8Array(B);if(x)return x(e);throw"both async and sync fetching of the wasm failed"}function Vt(e){return!B&&(w||m)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>dt(e)):Promise.resolve().then(()=>dt(e))}function ft(e,t,n){return Vt(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(n,i=>{V(`failed to asynchronously prepare wasm: ${i}`),me(i)})}function Un(e,t,n,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!ut(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(l=>{var u=WebAssembly.instantiateStreaming(l,n);return u.then(i,function(d){return V(`wasm streaming compile failed: ${d}`),V("falling back to ArrayBuffer instantiation"),ft(t,n,i)})}):ft(t,n,i)}function Fn(){var e={a:ko};function t(i,l){return ee=i.exports,F=ee.ia,I(),_r=ee.ma,Ut(ee.ja),Ae(),ee}ct();function n(i){t(i.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(i){V(`Module.instantiateWasm callback failed with error: ${i}`),s(i)}return Un(B,De,e,n).catch(s),{}}var Bt=e=>{for(;e.length>0;)e.shift()(o)};o.noExitRuntime;var mt=[],ht=0,Vn=e=>{var t=new Gt(e);return t.get_caught()||(t.set_caught(!0),ht--),t.set_rethrown(!1),mt.push(t),jr(t.excPtr),t.get_exception_ptr()},ke=0,Bn=()=>{H(0,0);var e=mt.pop();Ir(e.excPtr),ke=0};function Gt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){T[this.ptr+4>>2]=t},this.get_type=function(){return T[this.ptr+4>>2]},this.set_destructor=function(t){T[this.ptr+8>>2]=t},this.get_destructor=function(){return T[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,W[this.ptr+12>>0]=t},this.get_caught=function(){return W[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,W[this.ptr+13>>0]=t},this.get_rethrown=function(){return W[this.ptr+13>>0]!=0},this.init=function(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)},this.set_adjusted_ptr=function(t){T[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return T[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=Ur(this.get_type());if(t)return T[this.excPtr>>2];var n=this.get_adjusted_ptr();return n!==0?n:this.excPtr}}var Gn=e=>{throw ke||(ke=e),ke},Nt=e=>{var t=ke;if(!t)return ot(0),0;var n=new Gt(t);n.set_adjusted_ptr(t);var i=n.get_type();if(!i)return ot(0),t;for(var l in e){var u=e[l];if(u===0||u===i)break;var d=n.ptr+16;if(Rr(u,i,d))return ot(u),t}return ot(i),t},Nn=()=>Nt([]),Wn=e=>Nt([e]),Qn=(e,t)=>Nt([e,t]),qn=()=>{var e=mt.pop();e||me("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(mt.push(e),e.set_rethrown(!0),e.set_caught(!1),ht++),ke=t,ke},Ln=(e,t,n)=>{var i=new Gt(e);throw i.init(t,n),ke=e,ht++,ke},Hn=()=>ht,pt={},Wt=e=>{for(;e.length;){var t=e.pop(),n=e.pop();n(t)}};function Qt(e){return this.fromWireType(E[e>>2])}var Ge={},Ue={},vt={},fr,gt=e=>{throw new fr(e)},Fe=(e,t,n)=>{e.forEach(function(f){vt[f]=t});function i(f){var v=n(f);v.length!==e.length&&gt("Mismatched type converter count");for(var C=0;C<e.length;++C)_e(e[C],v[C])}var l=new Array(t.length),u=[],d=0;t.forEach((f,v)=>{Ue.hasOwnProperty(f)?l[v]=Ue[f]:(u.push(f),Ge.hasOwnProperty(f)||(Ge[f]=[]),Ge[f].push(()=>{l[v]=Ue[f],++d,d===u.length&&i(l)}))}),u.length===0&&i(l)},zn=e=>{var t=pt[e];delete pt[e];var n=t.rawConstructor,i=t.rawDestructor,l=t.fields,u=l.map(d=>d.getterReturnType).concat(l.map(d=>d.setterArgumentType));Fe([e],u,d=>{var f={};return l.forEach((v,C)=>{var P=v.fieldName,A=d[C],D=v.getter,O=v.getterContext,z=d[C+l.length],X=v.setter,q=v.setterContext;f[P]={read:ie=>A.fromWireType(D(O,ie)),write:(ie,b)=>{var $=[];X(q,ie,z.toWireType($,b)),Wt($)}}}),[{name:t.name,fromWireType:v=>{var C={};for(var P in f)C[P]=f[P].read(v);return i(v),C},toWireType:(v,C)=>{for(var P in f)if(!(P in C))throw new TypeError(`Missing field: "${P}"`);var A=n();for(P in f)f[P].write(A,C[P]);return v!==null&&v.push(i,A),A},argPackAdvance:Ce,readValueFromPointer:Qt,destructorFunction:i}]})},Jn=(e,t,n,i,l)=>{},Yn=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);mr=e},mr,oe=e=>{for(var t="",n=e;Q[n];)t+=mr[Q[n++]];return t},Ne,G=e=>{throw new Ne(e)};function Kn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i=t.name;if(e||G(`type "${i}" must have a positive integer typeid pointer`),Ue.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;G(`Cannot register type '${i}' twice`)}if(Ue[e]=t,delete vt[e],Ge.hasOwnProperty(e)){var l=Ge[e];delete Ge[e],l.forEach(u=>u())}}function _e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Kn(e,t,n)}var Ce=8,Xn=(e,t,n,i)=>{t=oe(t),_e(e,{name:t,fromWireType:function(l){return!!l},toWireType:function(l,u){return u?n:i},argPackAdvance:Ce,readValueFromPointer:function(l){return this.fromWireType(Q[l])},destructorFunction:null})},Zn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),qt=e=>{function t(n){return n.$$.ptrType.registeredClass.name}G(t(e)+" instance already deleted")},Lt=!1,hr=e=>{},ea=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},pr=e=>{e.count.value-=1;var t=e.count.value===0;t&&ea(e)},vr=(e,t,n)=>{if(t===n)return e;if(n.baseClass===void 0)return null;var i=vr(e,t,n.baseClass);return i===null?null:n.downcast(i)},gr={},ta=()=>Object.keys(tt).length,ra=()=>{var e=[];for(var t in tt)tt.hasOwnProperty(t)&&e.push(tt[t]);return e},Ze=[],Ht=()=>{for(;Ze.length;){var e=Ze.pop();e.$$.deleteScheduled=!1,e.delete()}},et,na=e=>{et=e,Ze.length&&et&&et(Ht)},aa=()=>{o.getInheritedInstanceCount=ta,o.getLiveInheritedInstances=ra,o.flushPendingDeletes=Ht,o.setDelayFunction=na},tt={},oa=(e,t)=>{for(t===void 0&&G("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},ia=(e,t)=>(t=oa(e,t),tt[t]),yt=(e,t)=>{(!t.ptrType||!t.ptr)&&gt("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,i=!!t.smartPtr;return n!==i&&gt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},rt(Object.create(e,{$$:{value:t,writable:!0}}))};function sa(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=ia(this.registeredClass,t);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var i=n.clone();return this.destructor(e),i}function l(){return this.isSmartPointer?yt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):yt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(t),d=gr[u];if(!d)return l.call(this);var f;this.isConst?f=d.constPointerType:f=d.pointerType;var v=vr(t,this.registeredClass,f.registeredClass);return v===null?l.call(this):this.isSmartPointer?yt(f.registeredClass.instancePrototype,{ptrType:f,ptr:v,smartPtrType:this,smartPtr:e}):yt(f.registeredClass.instancePrototype,{ptrType:f,ptr:v})}var rt=e=>typeof FinalizationRegistry>"u"?(rt=t=>t,e):(Lt=new FinalizationRegistry(t=>{pr(t.$$)}),rt=t=>{var n=t.$$,i=!!n.smartPtr;if(i){var l={$$:n};Lt.register(t,l,t)}return t},hr=t=>Lt.unregister(t),rt(e)),la=()=>{Object.assign(bt.prototype,{isAliasOf(e){if(!(this instanceof bt)||!(e instanceof bt))return!1;var t=this.$$.ptrType.registeredClass,n=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,l=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;i.baseClass;)l=i.upcast(l),i=i.baseClass;return t===i&&n===l},clone(){if(this.$$.ptr||qt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=rt(Object.create(Object.getPrototypeOf(this),{$$:{value:Zn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&G("Object already scheduled for deletion"),hr(this),pr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&G("Object already scheduled for deletion"),Ze.push(this),Ze.length===1&&et&&et(Ht),this.$$.deleteScheduled=!0,this}})};function bt(){}var nt=(e,t)=>Object.defineProperty(t,"name",{value:e}),yr=(e,t,n)=>{if(e[t].overloadTable===void 0){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||G(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},zt=(e,t,n)=>{o.hasOwnProperty(e)?((n===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[n]!==void 0)&&G(`Cannot register public name '${e}' twice`),yr(o,e,e),o.hasOwnProperty(n)&&G(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),o[e].overloadTable[n]=t):(o[e]=t,n!==void 0&&(o[e].numArguments=n))},ca=48,ua=57,da=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=ca&&t<=ua?`_${e}`:e};function fa(e,t,n,i,l,u,d,f){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=l,this.getActualType=u,this.upcast=d,this.downcast=f,this.pureVirtualFunctions=[]}var Jt=(e,t,n)=>{for(;t!==n;)t.upcast||G(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function ma(e,t){if(t===null)return this.isReference&&G(`null is not a valid ${this.name}`),0;t.$$||G(`Cannot pass "${er(t)}" as a ${this.name}`),t.$$.ptr||G(`Cannot pass deleted object as a pointer of type ${this.name}`);var n=t.$$.ptrType.registeredClass,i=Jt(t.$$.ptr,n,this.registeredClass);return i}function ha(e,t){var n;if(t===null)return this.isReference&&G(`null is not a valid ${this.name}`),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;(!t||!t.$$)&&G(`Cannot pass "${er(t)}" as a ${this.name}`),t.$$.ptr||G(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&G(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(n=Jt(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&G("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:G(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var l=t.clone();n=this.rawShare(n,Pe.toHandle(()=>l.delete())),e!==null&&e.push(this.rawDestructor,n)}break;default:G("Unsupporting sharing policy")}return n}function pa(e,t){if(t===null)return this.isReference&&G(`null is not a valid ${this.name}`),0;t.$$||G(`Cannot pass "${er(t)}" as a ${this.name}`),t.$$.ptr||G(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&G(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass,i=Jt(t.$$.ptr,n,this.registeredClass);return i}function br(e){return this.fromWireType(T[e>>2])}var va=()=>{Object.assign(wt.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){var t;(t=this.rawDestructor)===null||t===void 0||t.call(this,e)},argPackAdvance:Ce,readValueFromPointer:br,deleteObject(e){e!==null&&e.delete()},fromWireType:sa})};function wt(e,t,n,i,l,u,d,f,v,C,P){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=i,this.isSmartPointer=l,this.pointeeType=u,this.sharingPolicy=d,this.rawGetPointee=f,this.rawConstructor=v,this.rawShare=C,this.rawDestructor=P,!l&&t.baseClass===void 0?i?(this.toWireType=ma,this.destructorFunction=null):(this.toWireType=pa,this.destructorFunction=null):this.toWireType=ha}var wr=(e,t,n)=>{o.hasOwnProperty(e)||gt("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&n!==void 0?o[e].overloadTable[n]=t:(o[e]=t,o[e].argCount=n)},ga=(e,t,n)=>{var i=o["dynCall_"+e];return n&&n.length?i.apply(null,[t].concat(n)):i.call(null,t)},_t=[],_r,J=e=>{var t=_t[e];return t||(e>=_t.length&&(_t.length=e+1),_t[e]=t=_r.get(e)),t},ya=(e,t,n)=>{if(e.includes("j"))return ga(e,t,n);var i=J(t).apply(null,n);return i},ba=(e,t)=>{var n=[];return function(){return n.length=0,Object.assign(n,arguments),ya(e,t,n)}},ge=(e,t)=>{e=oe(e);function n(){return e.includes("j")?ba(e,t):J(t)}var i=n();return typeof i!="function"&&G(`unknown function pointer with signature ${e}: ${t}`),i},wa=(e,t)=>{var n=nt(t,function(i){this.name=t,this.message=i;var l=new Error(i).stack;l!==void 0&&(this.stack=this.toString()+`
`+l.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},Cr,Sr=e=>{var t=Mr(e),n=oe(t);return $e(t),n},Ct=(e,t)=>{var n=[],i={};function l(u){if(!i[u]&&!Ue[u]){if(vt[u]){vt[u].forEach(l);return}n.push(u),i[u]=!0}}throw t.forEach(l),new Cr(`${e}: `+n.map(Sr).join([", "]))},_a=(e,t,n,i,l,u,d,f,v,C,P,A,D)=>{P=oe(P),u=ge(l,u),f&&(f=ge(d,f)),C&&(C=ge(v,C)),D=ge(A,D);var O=da(P);zt(O,function(){Ct(`Cannot construct ${P} due to unbound types`,[i])}),Fe([e,t,n],i?[i]:[],function(z){z=z[0];var X,q;i?(X=z.registeredClass,q=X.instancePrototype):q=bt.prototype;var ie=nt(P,function(){if(Object.getPrototypeOf(this)!==b)throw new Ne("Use 'new' to construct "+P);if($.constructor_body===void 0)throw new Ne(P+" has no accessible constructor");var Gr=$.constructor_body[arguments.length];if(Gr===void 0)throw new Ne(`Tried to invoke ctor of ${P} with invalid number of parameters (${arguments.length}) - expected (${Object.keys($.constructor_body).toString()}) parameters instead!`);return Gr.apply(this,arguments)}),b=Object.create(q,{constructor:{value:ie}});ie.prototype=b;var $=new fa(P,ie,b,D,X,u,f,C);if($.baseClass){var Z,ne;(ne=(Z=$.baseClass).__derivedClasses)!==null&&ne!==void 0||(Z.__derivedClasses=[]),$.baseClass.__derivedClasses.push($)}var We=new wt(P,$,!0,!1,!1),Tt=new wt(P+"*",$,!1,!1,!1),Br=new wt(P+" const*",$,!1,!0,!1);return gr[e]={pointerType:Tt,constPointerType:Br},wr(O,ie),[We,Tt,Br]})},Yt=(e,t)=>{for(var n=[],i=0;i<e;i++)n.push(T[t+i*4>>2]);return n};function Ca(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Kt(e,t,n,i,l,u){var d=t.length;d<2&&G("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=t[1]!==null&&n!==null,v=Ca(t),C=t[0].name!=="void",P=d-2,A=new Array(P),D=[],O=[],z=function(){arguments.length!==P&&G(`function ${e} called with ${arguments.length} arguments, expected ${P}`),O.length=0;var X;D.length=f?2:1,D[0]=l,f&&(X=t[1].toWireType(O,this),D[1]=X);for(var q=0;q<P;++q)A[q]=t[q+2].toWireType(O,arguments[q]),D.push(A[q]);var ie=i.apply(null,D);function b($){if(v)Wt(O);else for(var Z=f?1:2;Z<t.length;Z++){var ne=Z===1?X:A[Z-2];t[Z].destructorFunction!==null&&t[Z].destructorFunction(ne)}if(C)return t[0].fromWireType($)}return b(ie)};return nt(e,z)}var Sa=(e,t,n,i,l,u)=>{var d=Yt(t,n);l=ge(i,l),Fe([],[e],function(f){f=f[0];var v=`constructor ${f.name}`;if(f.registeredClass.constructor_body===void 0&&(f.registeredClass.constructor_body=[]),f.registeredClass.constructor_body[t-1]!==void 0)throw new Ne(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${f.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return f.registeredClass.constructor_body[t-1]=()=>{Ct(`Cannot construct ${f.name} due to unbound types`,d)},Fe([],d,C=>(C.splice(1,0,null),f.registeredClass.constructor_body[t-1]=Kt(v,C,null,l,u),[])),[]})},xr=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},xa=(e,t,n,i,l,u,d,f,v)=>{var C=Yt(n,i);t=oe(t),t=xr(t),u=ge(l,u),Fe([],[e],function(P){P=P[0];var A=`${P.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),f&&P.registeredClass.pureVirtualFunctions.push(t);function D(){Ct(`Cannot call ${A} due to unbound types`,C)}var O=P.registeredClass.instancePrototype,z=O[t];return z===void 0||z.overloadTable===void 0&&z.className!==P.name&&z.argCount===n-2?(D.argCount=n-2,D.className=P.name,O[t]=D):(yr(O,t,A),O[t].overloadTable[n-2]=D),Fe([],C,function(X){var q=Kt(A,X,P,u,d);return O[t].overloadTable===void 0?(q.argCount=n-2,O[t]=q):O[t].overloadTable[n-2]=q,[]}),[]})};function Ta(){Object.assign(Tr.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function Tr(){this.allocated=[void 0],this.freelist=[]}var ve=new Tr,Xt=e=>{e>=ve.reserved&&--ve.get(e).refcount===0&&ve.free(e)},ka=()=>{for(var e=0,t=ve.reserved;t<ve.allocated.length;++t)ve.allocated[t]!==void 0&&++e;return e},Pa=()=>{ve.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.reserved=ve.allocated.length,o.count_emval_handles=ka},Pe={toValue:e=>(e||G("Cannot use deleted val. handle = "+e),ve.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.allocate({refcount:1,value:e})}}},$a=(e,t)=>{t=oe(t),_e(e,{name:t,fromWireType:n=>{var i=Pe.toValue(n);return Xt(n),i},toWireType:(n,i)=>Pe.toHandle(i),argPackAdvance:Ce,readValueFromPointer:Qt,destructorFunction:null})},Aa=(e,t,n)=>{switch(t){case 1:return n?function(i){return this.fromWireType(W[i>>0])}:function(i){return this.fromWireType(Q[i>>0])};case 2:return n?function(i){return this.fromWireType(be[i>>1])}:function(i){return this.fromWireType(M[i>>1])};case 4:return n?function(i){return this.fromWireType(E[i>>2])}:function(i){return this.fromWireType(T[i>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Da=(e,t,n,i)=>{t=oe(t);function l(){}l.values={},_e(e,{name:t,constructor:l,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,d)=>d.value,argPackAdvance:Ce,readValueFromPointer:Aa(t,n,i),destructorFunction:null}),zt(t,l)},Zt=(e,t)=>{var n=Ue[e];return n===void 0&&G(t+" has unknown type "+Sr(e)),n},Ea=(e,t,n)=>{var i=Zt(e,"enum");t=oe(t);var l=i.constructor,u=Object.create(i.constructor.prototype,{value:{value:n},constructor:{value:nt(`${i.name}_${t}`,function(){})}});l.values[n]=u,l[t]=u},er=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},Oa=(e,t)=>{switch(t){case 4:return function(n){return this.fromWireType(R[n>>2])};case 8:return function(n){return this.fromWireType(ae[n>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},Ma=(e,t,n)=>{t=oe(t),_e(e,{name:t,fromWireType:i=>i,toWireType:(i,l)=>l,argPackAdvance:Ce,readValueFromPointer:Oa(t,n),destructorFunction:null})},Ia=(e,t,n,i,l,u,d)=>{var f=Yt(t,n);e=oe(e),e=xr(e),l=ge(i,l),zt(e,function(){Ct(`Cannot call ${e} due to unbound types`,f)},t-1),Fe([],f,function(v){var C=[v[0],null].concat(v.slice(1));return wr(e,Kt(e,C,null,l,u),t-1),[]})},ja=(e,t,n)=>{switch(t){case 1:return n?i=>W[i>>0]:i=>Q[i>>0];case 2:return n?i=>be[i>>1]:i=>M[i>>1];case 4:return n?i=>E[i>>2]:i=>T[i>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ra=(e,t,n,i,l)=>{t=oe(t);var u=P=>P;if(i===0){var d=32-8*n;u=P=>P<<d>>>d}var f=t.includes("unsigned"),v=(P,A)=>{},C;f?C=function(P,A){return v(A,this.name),A>>>0}:C=function(P,A){return v(A,this.name),A},_e(e,{name:t,fromWireType:u,toWireType:C,argPackAdvance:Ce,readValueFromPointer:ja(t,n,i!==0),destructorFunction:null})},Ua=(e,t,n)=>{var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],l=i[t];function u(d){var f=T[d>>2],v=T[d+4>>2];return new l(W.buffer,v,f)}n=oe(n),_e(e,{name:n,fromWireType:u,argPackAdvance:Ce,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})},kr=(e,t,n,i)=>{if(!(i>0))return 0;for(var l=n,u=n+i-1,d=0;d<e.length;++d){var f=e.charCodeAt(d);if(f>=55296&&f<=57343){var v=e.charCodeAt(++d);f=65536+((f&1023)<<10)|v&1023}if(f<=127){if(n>=u)break;t[n++]=f}else if(f<=2047){if(n+1>=u)break;t[n++]=192|f>>6,t[n++]=128|f&63}else if(f<=65535){if(n+2>=u)break;t[n++]=224|f>>12,t[n++]=128|f>>6&63,t[n++]=128|f&63}else{if(n+3>=u)break;t[n++]=240|f>>18,t[n++]=128|f>>12&63,t[n++]=128|f>>6&63,t[n++]=128|f&63}}return t[n]=0,n-l},Fa=(e,t,n)=>kr(e,Q,t,n),Pr=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++n):t+=3}return t},$r=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Va=(e,t,n)=>{for(var i=t+n,l=t;e[l]&&!(l>=i);)++l;if(l-t>16&&e.buffer&&$r)return $r.decode(e.subarray(t,l));for(var u="";t<l;){var d=e[t++];if(!(d&128)){u+=String.fromCharCode(d);continue}var f=e[t++]&63;if((d&224)==192){u+=String.fromCharCode((d&31)<<6|f);continue}var v=e[t++]&63;if((d&240)==224?d=(d&15)<<12|f<<6|v:d=(d&7)<<18|f<<12|v<<6|e[t++]&63,d<65536)u+=String.fromCharCode(d);else{var C=d-65536;u+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return u},tr=(e,t)=>e?Va(Q,e,t):"",Ba=(e,t)=>{t=oe(t);var n=t==="std::string";_e(e,{name:t,fromWireType(i){var l=T[i>>2],u=i+4,d;if(n)for(var f=u,v=0;v<=l;++v){var C=u+v;if(v==l||Q[C]==0){var P=C-f,A=tr(f,P);d===void 0?d=A:(d+="\0",d+=A),f=C+1}}else{for(var D=new Array(l),v=0;v<l;++v)D[v]=String.fromCharCode(Q[u+v]);d=D.join("")}return $e(i),d},toWireType(i,l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));var u,d=typeof l=="string";d||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||G("Cannot pass non-string to std::string"),n&&d?u=Pr(l):u=l.length;var f=ar(4+u+1),v=f+4;if(T[f>>2]=u,n&&d)Fa(l,v,u+1);else if(d)for(var C=0;C<u;++C){var P=l.charCodeAt(C);P>255&&($e(v),G("String has UTF-16 code units that do not fit in 8 bits")),Q[v+C]=P}else for(var C=0;C<u;++C)Q[v+C]=l[C];return i!==null&&i.push($e,f),f},argPackAdvance:Ce,readValueFromPointer:br,destructorFunction(i){$e(i)}})},Ar=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ga=(e,t)=>{for(var n=e,i=n>>1,l=i+t/2;!(i>=l)&&M[i];)++i;if(n=i<<1,n-e>32&&Ar)return Ar.decode(Q.subarray(e,n));for(var u="",d=0;!(d>=t/2);++d){var f=be[e+d*2>>1];if(f==0)break;u+=String.fromCharCode(f)}return u},Na=(e,t,n)=>{var i;if((i=n)!==null&&i!==void 0||(n=2147483647),n<2)return 0;n-=2;for(var l=t,u=n<e.length*2?n/2:e.length,d=0;d<u;++d){var f=e.charCodeAt(d);be[t>>1]=f,t+=2}return be[t>>1]=0,t-l},Wa=e=>e.length*2,Qa=(e,t)=>{for(var n=0,i="";!(n>=t/4);){var l=E[e+n*4>>2];if(l==0)break;if(++n,l>=65536){var u=l-65536;i+=String.fromCharCode(55296|u>>10,56320|u&1023)}else i+=String.fromCharCode(l)}return i},qa=(e,t,n)=>{var i;if((i=n)!==null&&i!==void 0||(n=2147483647),n<4)return 0;for(var l=t,u=l+n-4,d=0;d<e.length;++d){var f=e.charCodeAt(d);if(f>=55296&&f<=57343){var v=e.charCodeAt(++d);f=65536+((f&1023)<<10)|v&1023}if(E[t>>2]=f,t+=4,t+4>u)break}return E[t>>2]=0,t-l},La=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&++n,t+=4}return t},Ha=(e,t,n)=>{n=oe(n);var i,l,u,d,f;t===2?(i=Ga,l=Na,d=Wa,u=()=>M,f=1):t===4&&(i=Qa,l=qa,d=La,u=()=>T,f=2),_e(e,{name:n,fromWireType:v=>{for(var C=T[v>>2],P=u(),A,D=v+4,O=0;O<=C;++O){var z=v+4+O*t;if(O==C||P[z>>f]==0){var X=z-D,q=i(D,X);A===void 0?A=q:(A+="\0",A+=q),D=z+t}}return $e(v),A},toWireType:(v,C)=>{typeof C!="string"&&G(`Cannot pass non-string to C++ string type ${n}`);var P=d(C),A=ar(4+P+t);return T[A>>2]=P>>f,l(C,A+4,P+t),v!==null&&v.push($e,A),A},argPackAdvance:Ce,readValueFromPointer:Qt,destructorFunction(v){$e(v)}})},za=(e,t,n,i,l,u)=>{pt[e]={name:oe(t),rawConstructor:ge(n,i),rawDestructor:ge(l,u),fields:[]}},Ja=(e,t,n,i,l,u,d,f,v,C)=>{pt[e].fields.push({fieldName:oe(t),getterReturnType:n,getter:ge(i,l),getterContext:u,setterArgumentType:d,setter:ge(f,v),setterContext:C})},Ya=(e,t)=>{t=oe(t),_e(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(n,i)=>{}})},rr=[],Ka=(e,t,n,i)=>(e=rr[e],t=Pe.toValue(t),e(null,t,n,i)),Xa={},Za=e=>{var t=Xa[e];return t===void 0?oe(e):t},Dr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var n=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return n||delete t.$$$embind_global$$$,n}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},eo=e=>e===0?Pe.toHandle(Dr()):(e=Za(e),Pe.toHandle(Dr()[e])),to=e=>{var t=rr.length;return rr.push(e),t},ro=(e,t)=>{for(var n=new Array(e),i=0;i<e;++i)n[i]=Zt(T[t+i*4>>2],"parameter "+i);return n},no=Reflect.construct,ao=(e,t,n)=>{var i=[],l=e.toWireType(i,n);return i.length&&(T[t>>2]=Pe.toHandle(i)),l},oo=(e,t,n)=>{var i=ro(e,t),l=i.shift();e--;var u=new Array(e),d=(v,C,P,A)=>{for(var D=0,O=0;O<e;++O)u[O]=i[O].readValueFromPointer(A+D),D+=i[O].argPackAdvance;for(var z=n===1?no(C,u):C.apply(v,u),O=0;O<e;++O){var X,q;(X=(q=i[O]).deleteObject)===null||X===void 0||X.call(q,u[O])}return ao(l,P,z)},f=`methodCaller<(${i.map(v=>v.name).join(", ")}) => ${l.name}>`;return to(nt(f,d))},io=e=>{e>4&&(ve.get(e).refcount+=1)},so=e=>{var t=Pe.toValue(e);Wt(t),Xt(e)},lo=(e,t)=>{e=Zt(e,"_emval_take_value");var n=e.readValueFromPointer(t);return Pe.toHandle(n)},co=()=>{me("")},uo=(e,t,n)=>Q.copyWithin(e,t,t+n),fo=()=>2147483648,mo=e=>{var t=F.buffer,n=(e-t.byteLength+65535)/65536;try{return F.grow(n),I(),1}catch{}},ho=e=>{var t=Q.length;e>>>=0;var n=fo();if(e>n)return!1;for(var i=(v,C)=>v+(C-v%C)%C,l=1;l<=4;l*=2){var u=t*(1+.2/l);u=Math.min(u,e+100663296);var d=Math.min(n,i(Math.max(e,u),65536)),f=mo(d);if(f)return!0}return!1},nr={},po=()=>h||"./this.program",at=()=>{if(!at.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:po()};for(var n in nr)nr[n]===void 0?delete t[n]:t[n]=nr[n];var i=[];for(var n in t)i.push(`${n}=${t[n]}`);at.strings=i}return at.strings},vo=(e,t)=>{for(var n=0;n<e.length;++n)W[t++>>0]=e.charCodeAt(n);W[t>>0]=0},go=(e,t)=>{var n=0;return at().forEach((i,l)=>{var u=t+n;T[e+l*4>>2]=u,vo(i,u),n+=i.length+1}),0},yo=(e,t)=>{var n=at();T[e>>2]=n.length;var i=0;return n.forEach(l=>i+=l.length+1),T[t>>2]=i,0},bo=e=>e,St=e=>e%4===0&&(e%100!==0||e%400===0),wo=(e,t)=>{for(var n=0,i=0;i<=t;n+=e[i++]);return n},Er=[31,29,31,30,31,30,31,31,30,31,30,31],Or=[31,28,31,30,31,30,31,31,30,31,30,31],_o=(e,t)=>{for(var n=new Date(e.getTime());t>0;){var i=St(n.getFullYear()),l=n.getMonth(),u=(i?Er:Or)[l];if(t>u-n.getDate())t-=u-n.getDate()+1,n.setDate(1),l<11?n.setMonth(l+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+t),n}return n};function Co(e,t,n){var i=Pr(e)+1,l=new Array(i);return kr(e,l,0,l.length),l}var So=(e,t)=>{W.set(e,t)},xo=(e,t,n,i)=>{var l=T[i+40>>2],u={tm_sec:E[i>>2],tm_min:E[i+4>>2],tm_hour:E[i+8>>2],tm_mday:E[i+12>>2],tm_mon:E[i+16>>2],tm_year:E[i+20>>2],tm_wday:E[i+24>>2],tm_yday:E[i+28>>2],tm_isdst:E[i+32>>2],tm_gmtoff:E[i+36>>2],tm_zone:l?tr(l):""},d=tr(n),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var v in f)d=d.replace(new RegExp(v,"g"),f[v]);var C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=["January","February","March","April","May","June","July","August","September","October","November","December"];function A(b,$,Z){for(var ne=typeof b=="number"?b.toString():b||"";ne.length<$;)ne=Z[0]+ne;return ne}function D(b,$){return A(b,$,"0")}function O(b,$){function Z(We){return We<0?-1:We>0?1:0}var ne;return(ne=Z(b.getFullYear()-$.getFullYear()))===0&&(ne=Z(b.getMonth()-$.getMonth()))===0&&(ne=Z(b.getDate()-$.getDate())),ne}function z(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function X(b){var $=_o(new Date(b.tm_year+1900,0,1),b.tm_yday),Z=new Date($.getFullYear(),0,4),ne=new Date($.getFullYear()+1,0,4),We=z(Z),Tt=z(ne);return O(We,$)<=0?O(Tt,$)<=0?$.getFullYear()+1:$.getFullYear():$.getFullYear()-1}var q={"%a":b=>C[b.tm_wday].substring(0,3),"%A":b=>C[b.tm_wday],"%b":b=>P[b.tm_mon].substring(0,3),"%B":b=>P[b.tm_mon],"%C":b=>{var $=b.tm_year+1900;return D($/100|0,2)},"%d":b=>D(b.tm_mday,2),"%e":b=>A(b.tm_mday,2," "),"%g":b=>X(b).toString().substring(2),"%G":b=>X(b),"%H":b=>D(b.tm_hour,2),"%I":b=>{var $=b.tm_hour;return $==0?$=12:$>12&&($-=12),D($,2)},"%j":b=>D(b.tm_mday+wo(St(b.tm_year+1900)?Er:Or,b.tm_mon-1),3),"%m":b=>D(b.tm_mon+1,2),"%M":b=>D(b.tm_min,2),"%n":()=>`
`,"%p":b=>b.tm_hour>=0&&b.tm_hour<12?"AM":"PM","%S":b=>D(b.tm_sec,2),"%t":()=>"	","%u":b=>b.tm_wday||7,"%U":b=>{var $=b.tm_yday+7-b.tm_wday;return D(Math.floor($/7),2)},"%V":b=>{var $=Math.floor((b.tm_yday+7-(b.tm_wday+6)%7)/7);if((b.tm_wday+371-b.tm_yday-2)%7<=2&&$++,$){if($==53){var Z=(b.tm_wday+371-b.tm_yday)%7;Z!=4&&(Z!=3||!St(b.tm_year))&&($=1)}}else{$=52;var ne=(b.tm_wday+7-b.tm_yday-1)%7;(ne==4||ne==5&&St(b.tm_year%400-1))&&$++}return D($,2)},"%w":b=>b.tm_wday,"%W":b=>{var $=b.tm_yday+7-(b.tm_wday+6)%7;return D(Math.floor($/7),2)},"%y":b=>(b.tm_year+1900).toString().substring(2),"%Y":b=>b.tm_year+1900,"%z":b=>{var $=b.tm_gmtoff,Z=$>=0;return $=Math.abs($)/60,$=$/60*100+$%60,(Z?"+":"-")+("0000"+$).slice(-4)},"%Z":b=>b.tm_zone,"%%":()=>"%"};d=d.replace(/%%/g,"\0\0");for(var v in q)d.includes(v)&&(d=d.replace(new RegExp(v,"g"),q[v](u)));d=d.replace(/\0\0/g,"%");var ie=Co(d);return ie.length>t?0:(So(ie,e),ie.length-1)},To=(e,t,n,i,l)=>xo(e,t,n,i);fr=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Yn(),Ne=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},la(),aa(),va(),Cr=o.UnboundTypeError=wa(Error,"UnboundTypeError"),Ta(),Pa();var ko={s:Vn,u:Bn,b:Nn,g:Wn,q:Qn,J:qn,f:Ln,V:Hn,d:Gn,da:zn,Q:Jn,_:Xn,ca:_a,ba:Sa,w:xa,Y:$a,x:Da,h:Ea,L:Ma,M:Ia,t:Ra,o:Ua,K:Ba,C:Ha,A:za,ea:Ja,$:Ya,R:Ka,ha:Xt,fa:eo,Z:oo,N:io,O:so,aa:lo,B:co,X:uo,W:ho,T:go,U:yo,E:No,D:Eo,F:Go,n:Wo,a:Po,e:Mo,m:Do,k:jo,H:Vo,v:Uo,G:Bo,z:qo,P:Ho,l:Io,j:Oo,c:Ao,p:$o,I:Fo,r:Qo,i:Ro,y:Lo,ga:bo,S:To},ee=Fn(),$e=o._free=e=>($e=o._free=ee.ka)(e),ar=o._malloc=e=>(ar=o._malloc=ee.la)(e),Mr=e=>(Mr=ee.na)(e),H=(e,t)=>(H=ee.oa)(e,t),ot=e=>(ot=ee.pa)(e),Y=()=>(Y=ee.qa)(),K=e=>(K=ee.ra)(e),Ir=e=>(Ir=ee.sa)(e),jr=e=>(jr=ee.ta)(e),Rr=(e,t,n)=>(Rr=ee.ua)(e,t,n),Ur=e=>(Ur=ee.va)(e);o.dynCall_viijii=(e,t,n,i,l,u,d)=>(o.dynCall_viijii=ee.wa)(e,t,n,i,l,u,d);var Fr=o.dynCall_jiiii=(e,t,n,i,l)=>(Fr=o.dynCall_jiiii=ee.xa)(e,t,n,i,l);o.dynCall_iiiiij=(e,t,n,i,l,u,d)=>(o.dynCall_iiiiij=ee.ya)(e,t,n,i,l,u,d),o.dynCall_iiiiijj=(e,t,n,i,l,u,d,f,v)=>(o.dynCall_iiiiijj=ee.za)(e,t,n,i,l,u,d,f,v),o.dynCall_iiiiiijj=(e,t,n,i,l,u,d,f,v,C)=>(o.dynCall_iiiiiijj=ee.Aa)(e,t,n,i,l,u,d,f,v,C);function Po(e,t){var n=Y();try{return J(e)(t)}catch(i){if(K(n),i!==i+0)throw i;H(1,0)}}function $o(e,t,n,i){var l=Y();try{J(e)(t,n,i)}catch(u){if(K(l),u!==u+0)throw u;H(1,0)}}function Ao(e,t,n){var i=Y();try{J(e)(t,n)}catch(l){if(K(i),l!==l+0)throw l;H(1,0)}}function Do(e,t,n,i){var l=Y();try{return J(e)(t,n,i)}catch(u){if(K(l),u!==u+0)throw u;H(1,0)}}function Eo(e,t,n,i,l){var u=Y();try{return J(e)(t,n,i,l)}catch(d){if(K(u),d!==d+0)throw d;H(1,0)}}function Oo(e,t){var n=Y();try{J(e)(t)}catch(i){if(K(n),i!==i+0)throw i;H(1,0)}}function Mo(e,t,n){var i=Y();try{return J(e)(t,n)}catch(l){if(K(i),l!==l+0)throw l;H(1,0)}}function Io(e){var t=Y();try{J(e)()}catch(n){if(K(t),n!==n+0)throw n;H(1,0)}}function jo(e,t,n,i,l){var u=Y();try{return J(e)(t,n,i,l)}catch(d){if(K(u),d!==d+0)throw d;H(1,0)}}function Ro(e,t,n,i,l,u,d,f,v,C,P){var A=Y();try{J(e)(t,n,i,l,u,d,f,v,C,P)}catch(D){if(K(A),D!==D+0)throw D;H(1,0)}}function Uo(e,t,n,i,l,u,d){var f=Y();try{return J(e)(t,n,i,l,u,d)}catch(v){if(K(f),v!==v+0)throw v;H(1,0)}}function Fo(e,t,n,i,l){var u=Y();try{J(e)(t,n,i,l)}catch(d){if(K(u),d!==d+0)throw d;H(1,0)}}function Vo(e,t,n,i,l,u){var d=Y();try{return J(e)(t,n,i,l,u)}catch(f){if(K(d),f!==f+0)throw f;H(1,0)}}function Bo(e,t,n,i,l,u,d,f){var v=Y();try{return J(e)(t,n,i,l,u,d,f)}catch(C){if(K(v),C!==C+0)throw C;H(1,0)}}function Go(e,t,n,i){var l=Y();try{return J(e)(t,n,i)}catch(u){if(K(l),u!==u+0)throw u;H(1,0)}}function No(e,t,n,i){var l=Y();try{return J(e)(t,n,i)}catch(u){if(K(l),u!==u+0)throw u;H(1,0)}}function Wo(e){var t=Y();try{return J(e)()}catch(n){if(K(t),n!==n+0)throw n;H(1,0)}}function Qo(e,t,n,i,l,u,d,f){var v=Y();try{J(e)(t,n,i,l,u,d,f)}catch(C){if(K(v),C!==C+0)throw C;H(1,0)}}function qo(e,t,n,i,l,u,d,f,v,C,P,A){var D=Y();try{return J(e)(t,n,i,l,u,d,f,v,C,P,A)}catch(O){if(K(D),O!==O+0)throw O;H(1,0)}}function Lo(e,t,n,i,l,u,d,f,v,C,P,A,D,O,z,X){var q=Y();try{J(e)(t,n,i,l,u,d,f,v,C,P,A,D,O,z,X)}catch(ie){if(K(q),ie!==ie+0)throw ie;H(1,0)}}function Ho(e,t,n,i,l){var u=Y();try{return Fr(e,t,n,i,l)}catch(d){if(K(u),d!==d+0)throw d;H(1,0)}}var xt;Re=function e(){xt||Vr(),xt||(Re=e)};function Vr(){if(we>0||(Be(),we>0))return;function e(){xt||(xt=!0,o.calledRun=!0,!N&&(It(),c(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),jt()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Vr(),a.ready}})();function Mi(r){return ur(dr,r)}async function Ii(r,a){return Ei(dr,r,a)}async function ji(r,a){return Oi(dr,r,a)}var it;class Jr extends EventTarget{constructor(a={}){var o;super(),si(this,it,void 0);try{const c=(o=a==null?void 0:a.formats)==null?void 0:o.filter(s=>s!=="unknown");if((c==null?void 0:c.length)===0)throw new TypeError("Hint option provided, but is empty.");c==null||c.forEach(s=>{if(!$t.has(s))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${s}' is not a valid enum value of type BarcodeFormat.`)}),li(this,it,c!=null?c:[]),Mi().then(s=>{this.dispatchEvent(new CustomEvent("load",{detail:s}))}).catch(s=>{this.dispatchEvent(new CustomEvent("error",{detail:s}))})}catch(c){throw qr(c,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return ci.filter(a=>a!=="unknown")}async detect(a){try{const o=await vi(a);if(o===null)return[];let c;try{vn(o)?c=await Ii(o,{tryHarder:!0,formats:Qr(this,it).map(s=>$t.get(s))}):c=await ji(o,{tryHarder:!0,formats:Qr(this,it).map(s=>$t.get(s))})}catch(s){throw console.error(s),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return c.map(s=>{const{topLeft:{x:p,y:h},topRight:{x:w,y:m},bottomLeft:{x:S,y:k},bottomRight:{x,y:V}}=s.position,B=Math.min(p,w,S,x),F=Math.min(h,m,k,V),N=Math.max(p,w,S,x),W=Math.max(h,m,k,V);return{boundingBox:new DOMRectReadOnly(B,F,N-B,W-F),rawValue:s.text,format:ui(s.format),cornerPoints:[{x:p,y:h},{x:w,y:m},{x,y:V},{x:S,y:k}]}})}catch(o){throw qr(o,"Failed to execute 'detect' on 'BarcodeDetector'")}}}it=new WeakMap;const wn=(r,a,o="error")=>{let c,s;const p=new Promise((h,w)=>{c=h,s=w,r.addEventListener(a,c),r.addEventListener(o,s)});return p.finally(()=>{r.removeEventListener(a,c),r.removeEventListener(o,s)}),p},Yr=r=>new Promise(a=>setTimeout(a,r));class _n extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Ri extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Ui extends Error{constructor(){super("Loading camera stream timed out after 6 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let Cn;async function Fi(r){if(window.BarcodeDetector===void 0)return console.debug("[vue-qrcode-reader] Native BarcodeDetector not supported. Will use polyfill."),new Jr({formats:r});const a=await window.BarcodeDetector.getSupportedFormats(),o=r.filter(c=>!a.includes(c));return o.length>0?(console.debug(`[vue-qrcode-reader] Native BarcodeDetector does not support formats ${JSON.stringify(o)}. Will use polyfill.`),new Jr({formats:r})):(console.debug("[vue-qrcode-reader] Will use native BarcodeDetector."),new window.BarcodeDetector({formats:r}))}async function Sn(r){Cn=await Fi(r)}const Vi=async(r,{detectHandler:a,locateHandler:o,minDelay:c,formats:s})=>{console.debug("[vue-qrcode-reader] start scanning"),await Sn(s);const p=h=>async w=>{if(r.readyState===0)console.debug("[vue-qrcode-reader] stop scanning: video element readyState is 0");else{const{lastScanned:m,contentBefore:S,lastScanHadContent:k}=h;if(w-m<c)window.requestAnimationFrame(p(h));else{const x=await Cn.detect(r),V=x.some(N=>!S.includes(N.rawValue));V&&a(x);const B=x.length>0;B&&o(x),!B&&k&&o(x);const F={lastScanned:w,lastScanHadContent:B,contentBefore:V?x.map(N=>N.rawValue):S};window.requestAnimationFrame(p(F))}}};p({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var xn={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.compactObject=Pn;fe.deprecated=zi;var Bi=fe.detectBrowser=Ji;fe.disableLog=qi;fe.disableWarnings=Li;fe.extractVersion=At;fe.filterStats=Yi;fe.log=Hi;fe.walkStats=Mt;fe.wrapPeerConnectionEvent=Qi;function Gi(r,a,o){return a=Ni(a),a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r}function Ni(r){var a=Wi(r,"string");return Ie(a)==="symbol"?a:String(a)}function Wi(r,a){if(Ie(r)!=="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var c=o.call(r,a||"default");if(Ie(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function Ie(r){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ie(r)}var Tn=!0,kn=!0;function At(r,a,o){var c=r.match(a);return c&&c.length>=o&&parseInt(c[o],10)}function Qi(r,a,o){if(r.RTCPeerConnection){var c=r.RTCPeerConnection.prototype,s=c.addEventListener;c.addEventListener=function(h,w){if(h!==a)return s.apply(this,arguments);var m=function(S){var k=o(S);k&&(w.handleEvent?w.handleEvent(k):w(k))};return this._eventMap=this._eventMap||{},this._eventMap[a]||(this._eventMap[a]=new Map),this._eventMap[a].set(w,m),s.apply(this,[h,m])};var p=c.removeEventListener;c.removeEventListener=function(h,w){if(h!==a||!this._eventMap||!this._eventMap[a])return p.apply(this,arguments);if(!this._eventMap[a].has(w))return p.apply(this,arguments);var m=this._eventMap[a].get(w);return this._eventMap[a].delete(w),this._eventMap[a].size===0&&delete this._eventMap[a],Object.keys(this._eventMap).length===0&&delete this._eventMap,p.apply(this,[h,m])},Object.defineProperty(c,"on"+a,{get:function(){return this["_on"+a]},set:function(h){this["_on"+a]&&(this.removeEventListener(a,this["_on"+a]),delete this["_on"+a]),h&&this.addEventListener(a,this["_on"+a]=h)},enumerable:!0,configurable:!0})}}function qi(r){return typeof r!="boolean"?new Error("Argument type: "+Ie(r)+". Please use a boolean."):(Tn=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function Li(r){return typeof r!="boolean"?new Error("Argument type: "+Ie(r)+". Please use a boolean."):(kn=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function Hi(){if((typeof window>"u"?"undefined":Ie(window))==="object"){if(Tn)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function zi(r,a){kn&&console.warn(r+" is deprecated, please use "+a+" instead.")}function Ji(r){var a={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return a.browser="Not a browser.",a;var o=r.navigator;if(o.mozGetUserMedia)a.browser="firefox",a.version=At(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)a.browser="chrome",a.version=At(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))a.browser="safari",a.version=At(o.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype;else return a.browser="Not a supported browser.",a;return a}function Kr(r){return Object.prototype.toString.call(r)==="[object Object]"}function Pn(r){return Kr(r)?Object.keys(r).reduce(function(a,o){var c=Kr(r[o]),s=c?Pn(r[o]):r[o],p=c&&!Object.keys(s).length;return s===void 0||p?a:Object.assign(a,Gi({},o,s))},{}):r}function Mt(r,a,o){!a||o.has(a.id)||(o.set(a.id,a),Object.keys(a).forEach(function(c){c.endsWith("Id")?Mt(r,r.get(a[c]),o):c.endsWith("Ids")&&a[c].forEach(function(s){Mt(r,r.get(s),o)})}))}function Yi(r,a,o){var c=o?"outbound-rtp":"inbound-rtp",s=new Map;if(a===null)return s;var p=[];return r.forEach(function(h){h.type==="track"&&h.trackIdentifier===a.id&&p.push(h)}),p.forEach(function(h){r.forEach(function(w){w.type===c&&w.trackId===h.id&&Mt(r,w,s)})}),s}Object.defineProperty(xn,"__esModule",{value:!0});var Ki=xn.shimGetUserMedia=es,Xi=Zi(fe);function $n(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return($n=function(c){return c?o:a})(r)}function Zi(r,a){if(r.__esModule)return r;if(r===null||Ee(r)!=="object"&&typeof r!="function")return{default:r};var o=$n(a);if(o&&o.has(r))return o.get(r);var c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in r)if(p!=="default"&&Object.prototype.hasOwnProperty.call(r,p)){var h=s?Object.getOwnPropertyDescriptor(r,p):null;h&&(h.get||h.set)?Object.defineProperty(c,p,h):c[p]=r[p]}return c.default=r,o&&o.set(r,c),c}function Ee(r){return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ee(r)}var Xr=Xi.log;function es(r,a){var o=r&&r.navigator;if(o.mediaDevices){var c=function(m){if(Ee(m)!=="object"||m.mandatory||m.optional)return m;var S={};return Object.keys(m).forEach(function(k){if(!(k==="require"||k==="advanced"||k==="mediaSource")){var x=Ee(m[k])==="object"?m[k]:{ideal:m[k]};x.exact!==void 0&&typeof x.exact=="number"&&(x.min=x.max=x.exact);var V=function(F,N){return F?F+N.charAt(0).toUpperCase()+N.slice(1):N==="deviceId"?"sourceId":N};if(x.ideal!==void 0){S.optional=S.optional||[];var B={};typeof x.ideal=="number"?(B[V("min",k)]=x.ideal,S.optional.push(B),B={},B[V("max",k)]=x.ideal,S.optional.push(B)):(B[V("",k)]=x.ideal,S.optional.push(B))}x.exact!==void 0&&typeof x.exact!="number"?(S.mandatory=S.mandatory||{},S.mandatory[V("",k)]=x.exact):["min","max"].forEach(function(F){x[F]!==void 0&&(S.mandatory=S.mandatory||{},S.mandatory[V(F,k)]=x[F])})}}),m.advanced&&(S.optional=(S.optional||[]).concat(m.advanced)),S},s=function(m,S){if(a.version>=61)return S(m);if(m=JSON.parse(JSON.stringify(m)),m&&Ee(m.audio)==="object"){var k=function(F,N,W){N in F&&!(W in F)&&(F[W]=F[N],delete F[N])};m=JSON.parse(JSON.stringify(m)),k(m.audio,"autoGainControl","googAutoGainControl"),k(m.audio,"noiseSuppression","googNoiseSuppression"),m.audio=c(m.audio)}if(m&&Ee(m.video)==="object"){var x=m.video.facingMode;x=x&&(Ee(x)==="object"?x:{ideal:x});var V=a.version<66;if(x&&(x.exact==="user"||x.exact==="environment"||x.ideal==="user"||x.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!V)){delete m.video.facingMode;var B;if(x.exact==="environment"||x.ideal==="environment"?B=["back","rear"]:(x.exact==="user"||x.ideal==="user")&&(B=["front"]),B)return o.mediaDevices.enumerateDevices().then(function(F){F=F.filter(function(W){return W.kind==="videoinput"});var N=F.find(function(W){return B.some(function(Q){return W.label.toLowerCase().includes(Q)})});return!N&&F.length&&B.includes("back")&&(N=F[F.length-1]),N&&(m.video.deviceId=x.exact?{exact:N.deviceId}:{ideal:N.deviceId}),m.video=c(m.video),Xr("chrome: "+JSON.stringify(m)),S(m)})}m.video=c(m.video)}return Xr("chrome: "+JSON.stringify(m)),S(m)},p=function(m){return a.version>=64?m:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[m.name]||m.name,message:m.message,constraint:m.constraint||m.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},h=function(m,S,k){s(m,function(x){o.webkitGetUserMedia(x,S,function(V){k&&k(p(V))})})};if(o.getUserMedia=h.bind(o),o.mediaDevices.getUserMedia){var w=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(m){return s(m,function(S){return w(S).then(function(k){if(S.audio&&!k.getAudioTracks().length||S.video&&!k.getVideoTracks().length)throw k.getTracks().forEach(function(x){x.stop()}),new DOMException("","NotFoundError");return k},function(k){return Promise.reject(p(k))})})}}}}var An={};Object.defineProperty(An,"__esModule",{value:!0});var ts=An.shimGetUserMedia=as,rs=ns(fe);function Dn(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(Dn=function(c){return c?o:a})(r)}function ns(r,a){if(r.__esModule)return r;if(r===null||ze(r)!=="object"&&typeof r!="function")return{default:r};var o=Dn(a);if(o&&o.has(r))return o.get(r);var c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in r)if(p!=="default"&&Object.prototype.hasOwnProperty.call(r,p)){var h=s?Object.getOwnPropertyDescriptor(r,p):null;h&&(h.get||h.set)?Object.defineProperty(c,p,h):c[p]=r[p]}return c.default=r,o&&o.set(r,c),c}function ze(r){return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ze(r)}function as(r,a){var o=r&&r.navigator,c=r&&r.MediaStreamTrack;if(o.getUserMedia=function(m,S,k){rs.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(m).then(S,k)},!(a.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var s=function(m,S,k){S in m&&!(k in m)&&(m[k]=m[S],delete m[S])},p=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(m){return ze(m)==="object"&&ze(m.audio)==="object"&&(m=JSON.parse(JSON.stringify(m)),s(m.audio,"autoGainControl","mozAutoGainControl"),s(m.audio,"noiseSuppression","mozNoiseSuppression")),p(m)},c&&c.prototype.getSettings){var h=c.prototype.getSettings;c.prototype.getSettings=function(){var m=h.apply(this,arguments);return s(m,"mozAutoGainControl","autoGainControl"),s(m,"mozNoiseSuppression","noiseSuppression"),m}}if(c&&c.prototype.applyConstraints){var w=c.prototype.applyConstraints;c.prototype.applyConstraints=function(m){return this.kind==="audio"&&ze(m)==="object"&&(m=JSON.parse(JSON.stringify(m)),s(m,"autoGainControl","mozAutoGainControl"),s(m,"noiseSuppression","mozNoiseSuppression")),w.apply(this,[m])}}}}var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.shimAudioContext=hs;Te.shimCallbacksAPI=cs;Te.shimConstraints=Mn;Te.shimCreateOfferLegacy=ms;var os=Te.shimGetUserMedia=us;Te.shimLocalStreamsAPI=ss;Te.shimRTCIceServerUrls=ds;Te.shimRemoteStreamsAPI=ls;Te.shimTrackEventTransceiver=fs;var En=is(fe);function On(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(On=function(c){return c?o:a})(r)}function is(r,a){if(r.__esModule)return r;if(r===null||je(r)!=="object"&&typeof r!="function")return{default:r};var o=On(a);if(o&&o.has(r))return o.get(r);var c={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in r)if(p!=="default"&&Object.prototype.hasOwnProperty.call(r,p)){var h=s?Object.getOwnPropertyDescriptor(r,p):null;h&&(h.get||h.set)?Object.defineProperty(c,p,h):c[p]=r[p]}return c.default=r,o&&o.set(r,c),c}function je(r){return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},je(r)}function ss(r){if(!(je(r)!=="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){var a=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(o){var c=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(o)||this._localStreams.push(o),o.getAudioTracks().forEach(function(s){return a.call(c,s,o)}),o.getVideoTracks().forEach(function(s){return a.call(c,s,o)})},r.RTCPeerConnection.prototype.addTrack=function(o){for(var c=this,s=arguments.length,p=new Array(s>1?s-1:0),h=1;h<s;h++)p[h-1]=arguments[h];return p&&p.forEach(function(w){c._localStreams?c._localStreams.includes(w)||c._localStreams.push(w):c._localStreams=[w]}),a.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(o){var c=this;this._localStreams||(this._localStreams=[]);var s=this._localStreams.indexOf(o);if(s!==-1){this._localStreams.splice(s,1);var p=o.getTracks();this.getSenders().forEach(function(h){p.includes(h.track)&&c.removeTrack(h)})}})}}function ls(r){if(!(je(r)!=="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(o){var c=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(function(p){if(c._remoteStreams||(c._remoteStreams=[]),!c._remoteStreams.includes(p)){c._remoteStreams.push(p);var h=new Event("addstream");h.stream=p,c.dispatchEvent(h)}})})}});var a=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){var o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(c){c.streams.forEach(function(s){if(o._remoteStreams||(o._remoteStreams=[]),!(o._remoteStreams.indexOf(s)>=0)){o._remoteStreams.push(s);var p=new Event("addstream");p.stream=s,o.dispatchEvent(p)}})}),a.apply(o,arguments)}}}function cs(r){if(!(je(r)!=="object"||!r.RTCPeerConnection)){var a=r.RTCPeerConnection.prototype,o=a.createOffer,c=a.createAnswer,s=a.setLocalDescription,p=a.setRemoteDescription,h=a.addIceCandidate;a.createOffer=function(m,S){var k=arguments.length>=2?arguments[2]:arguments[0],x=o.apply(this,[k]);return S?(x.then(m,S),Promise.resolve()):x},a.createAnswer=function(m,S){var k=arguments.length>=2?arguments[2]:arguments[0],x=c.apply(this,[k]);return S?(x.then(m,S),Promise.resolve()):x};var w=function(m,S,k){var x=s.apply(this,[m]);return k?(x.then(S,k),Promise.resolve()):x};a.setLocalDescription=w,w=function(m,S,k){var x=p.apply(this,[m]);return k?(x.then(S,k),Promise.resolve()):x},a.setRemoteDescription=w,w=function(m,S,k){var x=h.apply(this,[m]);return k?(x.then(S,k),Promise.resolve()):x},a.addIceCandidate=w}}function us(r){var a=r&&r.navigator;if(a.mediaDevices&&a.mediaDevices.getUserMedia){var o=a.mediaDevices,c=o.getUserMedia.bind(o);a.mediaDevices.getUserMedia=function(s){return c(Mn(s))}}!a.getUserMedia&&a.mediaDevices&&a.mediaDevices.getUserMedia&&(a.getUserMedia=function(s,p,h){a.mediaDevices.getUserMedia(s).then(p,h)}.bind(a))}function Mn(r){return r&&r.video!==void 0?Object.assign({},r,{video:En.compactObject(r.video)}):r}function ds(r){if(r.RTCPeerConnection){var a=r.RTCPeerConnection;r.RTCPeerConnection=function(o,c){if(o&&o.iceServers){for(var s=[],p=0;p<o.iceServers.length;p++){var h=o.iceServers[p];h.urls===void 0&&h.url?(En.deprecated("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,s.push(h)):s.push(o.iceServers[p])}o.iceServers=s}return new a(o,c)},r.RTCPeerConnection.prototype=a.prototype,"generateCertificate"in a&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get:function(){return a.generateCertificate}})}}function fs(r){je(r)==="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ms(r){var a=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(o){if(o){typeof o.offerToReceiveAudio<"u"&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);var c=this.getTransceivers().find(function(p){return p.receiver.track.kind==="audio"});o.offerToReceiveAudio===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):o.offerToReceiveAudio===!0&&!c&&this.addTransceiver("audio",{direction:"recvonly"}),typeof o.offerToReceiveVideo<"u"&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);var s=this.getTransceivers().find(function(p){return p.receiver.track.kind==="video"});o.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):o.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return a.apply(this,arguments)}}function hs(r){je(r)!=="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const ps=r=>{let a=!1,o;return(...c)=>(a||(o=r(c),a=!0),o)};function Se(r,a){if(r===!1)throw new Error(a!=null?a:"assertion failure")}function Zr(r){throw new Error("this code should be unreachable")}const vs=ps(()=>{const r=Bi(window);switch(r.browser){case"chrome":Ki(window,r);break;case"firefox":ts(window,r);break;case"safari":os(window,r);break;default:throw new _n}});let Je=Promise.resolve({type:"stop",data:{}});async function en(r,a,o){var c,s,p;if(console.debug("[vue-qrcode-reader] starting camera with constraints: ",JSON.stringify(a)),window.isSecureContext!==!0)throw new Ri;if(((c=navigator==null?void 0:navigator.mediaDevices)==null?void 0:c.getUserMedia)===void 0)throw new _n;vs(),console.debug("[vue-qrcode-reader] calling getUserMedia");const h=await navigator.mediaDevices.getUserMedia({audio:!1,video:a});r.srcObject!==void 0?r.srcObject=h:r.mozSrcObject!==void 0?r.mozSrcObject=h:window.URL.createObjectURL?r.src=window.URL.createObjectURL(h):window.webkitURL?r.src=window.webkitURL.createObjectURL(h):r.src=h.id,r.play(),console.debug("[vue-qrcode-reader] waiting for video element to load"),await Promise.race([wn(r,"loadeddata"),Yr(6e3).then(()=>{throw new Ui})]),console.debug("[vue-qrcode-reader] video element loaded"),await Yr(500);const[w]=h.getVideoTracks(),m=(p=(s=w==null?void 0:w.getCapabilities)==null?void 0:s.call(w))!=null?p:{};let S=!1;return o&&m.torch&&(await w.applyConstraints({advanced:[{torch:!0}]}),S=!0),console.debug("[vue-qrcode-reader] camera ready"),{type:"start",data:{videoEl:r,stream:h,capabilities:m,constraints:a,isTorchOn:S}}}async function gs(r,{constraints:a,torch:o,restart:c=!1}){Je=Je.then(p=>{if(p.type==="start"){const{data:{videoEl:h,stream:w,constraints:m,isTorchOn:S}}=p;return!c&&r===h&&a===m&&o===S?p:In(h,w,S).then(()=>en(r,a,o))}else if(p.type==="stop"||p.type==="failed")return en(r,a,o);Zr()}).catch(p=>(console.debug(`[vue-qrcode-reader] starting camera failed with "${p}"`),{type:"failed",error:p}));const s=await Je;if(s.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");if(s.type==="failed")throw s.error;if(s.type==="start")return s.data.capabilities;Zr()}async function In(r,a,o){console.debug("[vue-qrcode-reader] stopping camera"),r.src="",r.srcObject=null,r.load(),await wn(r,"error");for(const c of a.getTracks())o!=null||await c.applyConstraints({advanced:[{torch:!1}]}),a.removeTrack(c),c.stop();return{type:"stop",data:{}}}async function kt(){if(Je=Je.then(r=>{if(r.type==="stop"||r.type==="failed")return r;const{data:{videoEl:a,stream:o,isTorchOn:c}}=r;return In(a,o,c)}),(await Je).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const ys=zo({__name:"QrcodeStream",props:{constraints:{default:()=>({facingMode:"environment"})},formats:{default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function,default:void 0}},emits:["detect","camera-on","camera-off","error"],setup(r,{emit:a}){const o=r,c=a,s=re(o.constraints),p=re(o.formats);Qe(()=>o.constraints,(M,E)=>{JSON.stringify(M)!==JSON.stringify(E)&&(s.value=M)},{deep:!0}),Qe(()=>o.formats,(M,E)=>{JSON.stringify(M)!==JSON.stringify(E)&&(p.value=M)},{deep:!0});const h=re(),w=re(),m=re(),S=re(!1),k=re(!1);tn(()=>{k.value=!0}),Jo(()=>{kt()});const x=Pt(()=>({torch:o.torch,constraints:s.value,shouldStream:k.value&&!o.paused}));Qe(x,async M=>{const E=m.value;Se(E!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const T=h.value;Se(T!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const R=T.getContext("2d");if(Se(R!==null,"if cavnas is defined, canvas 2d context should also be non-null"),M.shouldStream){kt(),S.value=!1;try{const ae=await gs(E,M);k.value?(S.value=!0,c("camera-on",ae)):await kt()}catch(ae){c("error",ae)}}else T.width=E.videoWidth,T.height=E.videoHeight,R.drawImage(E,0,0,E.videoWidth,E.videoHeight),kt(),S.value=!1,c("camera-off")},{deep:!0}),Qe(p,async M=>{k.value&&await Sn(M)});const V=Pt(()=>x.value.shouldStream&&S.value);Qe(V,M=>{if(M){Se(h.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),B(h.value),Se(w.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),B(w.value);const E=()=>o.track===void 0?500:40;Se(m.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Vi(m.value,{detectHandler:T=>c("detect",T),formats:p.value,locateHandler:F,minDelay:E()})}});const B=M=>{const E=M.getContext("2d");Se(E!==null,"canvas 2d context should always be non-null"),E.clearRect(0,0,M.width,M.height)},F=M=>{const E=w.value;Se(E!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const T=m.value;if(Se(T!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),M.length===0||o.track===void 0)B(E);else{const R=T.offsetWidth,ae=T.offsetHeight,I=T.videoWidth,ce=T.videoHeight,he=Math.max(R/I,ae/ce),pe=I*he,Be=ce*he,It=pe/I,jt=Be/ce,Rt=(R-pe)/2,Ut=(ae-Be)/2,Xe=({x:Ae,y:me})=>({x:Math.floor(Ae*It),y:Math.floor(me*jt)}),we=({x:Ae,y:me})=>({x:Math.floor(Ae+Rt),y:Math.floor(me+Ut)}),Re=M.map(Ae=>{const{boundingBox:me,cornerPoints:Ft}=Ae,{x:ut,y:De}=we(Xe({x:me.x,y:me.y})),{x:dt,y:Vt}=Xe({x:me.width,y:me.height});return{...Ae,cornerPoints:Ft.map(ft=>we(Xe(ft))),boundingBox:DOMRectReadOnly.fromRect({x:ut,y:De,width:dt,height:Vt})}});E.width=T.offsetWidth,E.height=T.offsetHeight;const ct=E.getContext("2d");Se(ct!==null,"canvas 2d context should always be non-null"),o.track(Re,ct)}},N={width:"100%",height:"100%",position:"relative","z-index":"0"},W={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},Q={width:"100%",height:"100%","object-fit":"cover"},be=Pt(()=>V.value?Q:{...Q,visibility:"hidden",position:"absolute"});return(M,E)=>(j(),se("div",{style:N},[g("video",{ref_key:"videoRef",ref:m,style:Yo(be.value),autoplay:"",muted:"",playsinline:""},null,4),de(g("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:h,style:Q},null,512),[[Ko,!V.value]]),g("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:w,style:W},null,512),g("div",{style:W},[Xo(M.$slots,"default")])]))}}),bs=r=>(ti("data-v-61918439"),r=r(),ri(),r),ws={id:"q-app",style:{"max-width":"100vw","min-width":"100vw","max-height":"100vh","min-height":"100vh",position:"absolute",top:"0px",left:"0px",display:"flex","flex-direction":"column"}},_s=["value"],Cs=["value"],Ss=bs(()=>g("br",null,null,-1)),xs=["onUpdate:modelValue","id"],Ts=["for"],ks={class:"error"},Ps={class:"decode-result"},$s=2e3;var As={__name:"QRCodeScanner",setup(r){const a=re(!1),o=re(""),c=re(!1),s=re("");var p=re(!0),h=re(!1),w=re(!1);let m;function S(T){s.value=JSON.stringify(T.map(R=>R.rawValue)),clearTimeout(m),m=setTimeout(()=>{s.value=""},$s)}Qe(s,T=>{h.value=!0,w.value=!0,p.value=!1,emits("result-changed",T.replace("[","").replace("]","").replace('"',"").replace('"',""))});const k=re(null),x=re([]);re([]),tn(async()=>{x.value=(await navigator.mediaDevices.enumerateDevices()).filter(({kind:T})=>T==="videoinput"),console.log(x.value),x.value.length>0&&x.value.length>1&&(k.value=x.value[0])});function V(T,R){for(const ae of T){const[I,...ce]=ae.cornerPoints;R.strokeStyle="red",R.beginPath(),R.moveTo(I.x,I.y);for(const{x:he,y:pe}of ce)R.lineTo(he,pe);R.lineTo(I.x,I.y),R.closePath(),R.stroke()}}function B(T,R){for(const ae of T){const{boundingBox:{x:I,y:ce,width:he,height:pe}}=ae;R.lineWidth=2,R.strokeStyle="#007bff",R.strokeRect(I,ce,he,pe)}}function F(T,R){for(const ae of T){const{boundingBox:I,rawValue:ce}=ae,he=I.x+I.width/2,pe=I.y+I.height/2,Be=Math.max(12,50*I.width/R.canvas.width);R.font=`bold ${Be}px sans-serif`,R.textAlign="center",R.lineWidth=3,R.strokeStyle="#35495e",R.strokeText(ae.rawValue,he,pe),R.fillStyle="#5cb984",R.fillText(ce,he,pe)}}const N=[{text:"nothing (default)",value:void 0},{text:"outline",value:V},{text:"centered text",value:F},{text:"bounding box",value:B}],W=re(N[1]),Q=re({aztec:!1,code_128:!1,code_39:!1,code_93:!1,codabar:!1,databar:!1,databar_expanded:!1,data_matrix:!1,dx_film_edge:!1,ean_13:!1,ean_8:!1,itf:!1,maxi_code:!1,micro_qr_code:!1,pdf417:!1,qr_code:!0,rm_qr_code:!1,upc_a:!1,upc_e:!1,linear_codes:!1,matrix_codes:!1}),be=Pt(()=>Object.keys(Q.value).filter(T=>Q.value[T])),M=re("");function E(T){M.value=`[${T.name}]: `,c.value=!0,T.name==="NotAllowedError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner1"),M.value+="you need to grant camera access permission"):T.name==="NotFoundError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner2"),M.value+="no camera on this device"):T.name==="NotSupportedError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner3"),M.value+="secure context required (HTTPS, localhost)"):T.name==="NotReadableError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner4"),M.value+="is the camera already in use?"):T.name==="OverconstrainedError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner5"),M.value+="installed cameras are not suitable"):T.name==="StreamApiNotSupportedError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner6"),M.value+="Stream API is not supported in this browser"):T.name==="InsecureContextError"?(o.value=this.$t("Frontend.Errors.ErrorQRScanner7"),M.value+="Camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."):(o.value=T.message,M.value+=T.message),a.value=!0}return(T,R)=>{const ae=rn("q-card");return j(),se("div",ws,[y(ae,{style:{"background-color":"var(--q-background)","max-width":"100vw","min-width":"100vw","max-height":"100vh","min-height":"100vh",position:"absolute",top:"0px",left:"0px",display:"flex","flex-direction":"column"}},{default:_(()=>[g("div",null,[de(g("select",{"onUpdate:modelValue":R[0]||(R[0]=I=>T.selectedConstraints=I)},[(j(!0),se(Me,null,He(T.constraintOptions,I=>(j(),se("option",{key:I.label,value:I.constraints},U(I.label),9,_s))),128))],512),[[Nr,T.selectedConstraints]]),g("p",null,[L(" Detected codes are visually highlighted in real-time. Use the following dropdown to change the flavor: "),de(g("select",{"onUpdate:modelValue":R[1]||(R[1]=I=>W.value=I)},[(j(),se(Me,null,He(N,I=>g("option",{key:I.text,value:I},U(I.text),9,Cs)),64))],512),[[Nr,W.value]])]),g("p",null,[L(" By default only QR-codes are detected but a variety of other barcode formats are also supported. You can select one or multiple but the more you select the more expensive scanning becomes: "),Ss,(j(!0),se(Me,null,He(Object.keys(Q.value),I=>(j(),se("span",{key:I,class:"barcode-format-checkbox"},[de(g("input",{type:"checkbox","onUpdate:modelValue":ce=>Q.value[I]=ce,id:I},null,8,xs),[[ei,Q.value[I]]]),g("label",{for:I},U(I),9,Ts)]))),128))]),g("p",ks,U(M.value),1),g("p",Ps,[L(" Last result: "),g("b",null,U(s.value),1)]),g("div",null,[y(Zo(ys),{constraints:T.selectedConstraints,track:W.value.value,formats:be.value,onError:E,onDetect:S,onCameraOn:T.onCameraReady},null,8,["constraints","track","formats","onCameraOn"])])])]),_:1})])}}};var jn=cr(As,[["__scopeId","data-v-61918439"]]);const Ds={props:["currentUserBalance"],data(){return{currentBalance:0,verfiyPurchase:!1,showConfirmPurchase:!1,step:1,newItem:{Name:"",Category:"",Price:0,isAlcoholic:!1,isOutOfStock:!1},searchItem:"",showAddItem:!1,euroToTokenValue:0,arrayMarkerLabel:[{value:.5,label:"0,5"},{value:1,label:"1"},{value:1.5,label:"1,5"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"},{value:4,label:"4"},{value:4.5,label:"4.5"},{value:5,label:"5"}],drinkIcons:[{name:"Bier",icon:"sports_bar"},{name:"Wein",icon:"wine_bar"},{name:"Getr\xE4nk",icon:"local_drink"},{name:"Schnaps",icon:"liquor"}],foodIcons:[{name:"Essen",icon:"restaurant"},{name:"Dessert",icon:"cake"},{name:"Pizza",icon:"local_pizza"},{name:"Kaffe",icon:"emoji_food_beverage"},{name:"Suppe",icon:"soup_kitchen"},{name:"Eis",icon:"icecream"},{name:"Geb\xE4ck",icon:"bakery_dining"},{name:"Burger",icon:"lunch_dining"}],miscIcons:[{name:"Essen",icon:"menu_book"},{name:"Dessert",icon:"checkroom"},{name:"Pizza",icon:"watch"},{name:"Kaffe",icon:"devices"},{name:"Suppe",icon:"directions_bus"},{name:"Eis",icon:"sports_soccer"},{name:"Geb\xE4ck",icon:"free_breakfast"}],showEditItem:!1,selectedItem:null,categories:["Getr\xE4nk","Lebensmittel","Sonstige"],columns:[{name:"desc",required:!0,label:"Artikelname",align:"left",field:r=>r.name,format:r=>`${r}`,sortable:!0},{name:"isAlcoholic",align:"center",label:"Alkoholisch",field:"isAlcoholic",sortable:!0},{name:"isOutOfStock",align:"center",label:"Ausverkauft",field:"isOutOfStock",sortable:!0},{name:"selectedQuantity",align:"center",label:"Menge",field:"selectedQuantity",sortable:!0},{name:"category",label:"Kategorie",field:"category",sortable:!0},{name:"Preis",label:"price",field:"price"}],columnsFiltered:[{name:"name",label:"Artikelname",field:"name",align:"left",sortable:!0},{name:"selectedQuantity",label:"Menge",field:"selectedQuantity",align:"center",sortable:!0},{name:"totalPrice",label:"Gesamtpreis",field:"totalPrice",align:"center",sortable:!0}],itemData:[{name:"Fiege Pils 0,3",isAlcoholic:!0,category:"Getr\xE4nk",price:4,selectedQuantity:0,isOutOfStock:!1},{name:"Apfelschorle",isAlcoholic:!1,category:"Getr\xE4nk",price:3,selectedQuantity:0,isOutOfStock:!0},{name:"Schokolade",isAlcoholic:!1,selectedQuantity:0,category:"Lebensmittel",isOutOfStock:!1,price:2}],disablePlus:!1,disableMinus:!1,oldQuantity:0,newQuantity:0,paymentMethod:1,cardBalance:0}},computed:{filteredItems(){return this.itemData.filter(r=>r.selectedQuantity>0).map(r=>({name:r.name,category:r.category,selectedQuantity:r.selectedQuantity,totalPrice:r.price*r.selectedQuantity}))},areItemsSelected(){return this.step==1?this.step===1&&this.itemData.every(r=>r.selectedQuantity===0):this.step==2?!this.verfiyPurchase:!0}},methods:{openSelectItem(r){r.isOutOfStock?this.$q.notify({type:"negative",message:"Dieser Artikel ist leider ausverkauft!",timeout:1e3,position:"center"}):(this.selectedItem=r,this.showAddItem=!0,this.oldQuantity=r.selectedQuantity,this.cardBalance=this.currentBalance+this.selectedItem.selectedQuantity*this.selectedItem.price,this.cardBalance-this.selectedItem.price*this.selectedItem.selectedQuantity<=0?(this.disablePlus=!0,this.disableMinus=!1):this.disablePlus=!1,this.selectedItem.selectedQuantity==0?this.disableMinus=!0:this.selectedItem.selectedQuantity>0&&(this.disableMinus=!1))},saveChanges(){const r=this.itemData.findIndex(a=>a.name===this.selectedItem.name);r!==-1&&(this.itemData[r]={...this.selectedItem},this.currentBalance=this.cardBalance-this.selectedItem.selectedQuantity*this.selectedItem.price),this.showAddItem=!1},confirmPurchase(){this.showConfirmPurchase=!1,this.$emit("paymentConfirmed",!0)},changeInputValueClick(r){this.inputValue==""&&(this.inputValue=0),r=="dec"?this.selectedItem.selectedQuantity-1==0?(this.selectedItem.selectedQuantity-=1,this.disableMinus=!0,this.disablePlus=!1):(this.currentBalance-this.selectedItem.price*(this.selectedItem.selectedQuantity-1)>=0&&(this.disablePlus=!1),this.selectedItem.selectedQuantity-=1):r=="inc"&&(this.currentBalance-this.selectedItem.price*(this.selectedItem.selectedQuantity+1)==0?(this.disablePlus=!0,this.disableMinus=!1,this.selectedItem.selectedQuantity+=1):this.currentBalance-this.selectedItem.price*(this.selectedItem.selectedQuantity+1)<0?(this.disableMinus=!1,this.disablePlus=!0):this.selectedItem.selectedQuantity+=1)}},mounted(){this.currentBalance=this.currentUserBalance,this.selectedItem=this.itemData[0]}},Es={class:"text-h6"},Os=g("img",{src:"/icons/token_yellow.png",style:{height:"15px","margin-left":"1px","margin-top":"0px"}},null,-1),Ms={class:"text-bold text-h5"},Is={class:"q-mt-sm"},js={class:"row items-center justify-center"},Rs={class:"text-h4"},Us=g("img",{src:"/icons/token_yellow.png",style:{height:"30px","margin-left":"3px"}},null,-1),Fs={class:"row items-center justify-center"},Vs={class:"text-disabled"},Bs={class:"row items-centers justify-between"},Gs={class:"text-h6"},Ns={class:"text-caption"},Ws=g("img",{src:"/icons/token_yellow.png",style:{height:"12px","margin-left":"1px","margin-top":"0px"}},null,-1),Qs={class:"row justify-center items-center",style:{"margin-top":"20px"}},qs={class:"text-h3",style:{"margin-right":"10px","font-weight":"700"}},Ls={class:"row text-caption text-weight-thin justify-center"},Hs=g("img",{src:"/icons/token_yellow.png",style:{height:"15px","margin-left":"3px","margin-top":"2px"}},null,-1),zs=g("img",{src:"/icons/token_yellow.png",style:{height:"15px","margin-left":"3px","margin-top":"2px"}},null,-1),Js={class:"row justify-center items-center"},Ys={class:"row items-center"},Ks={class:"text-h6",style:{"text-align":"right"}},Xs=g("img",{src:"/icons/token_yellow.png",style:{height:"16px","margin-left":"1px","margin-top":"5px"}},null,-1),Zs={class:"row items-center"};function el(r,a,o,c,s,p){return j(),se(Me,null,[L(" Bitte w\xE4hle einen Artikel aus: "),y(lr,{style:{height:"50vh"},rows:s.itemData,columns:s.columns,"row-key":"name",filter:s.searchItem,"hide-header":"",class:"custom-table","hide-bottom":"",pagination:{rowsPerPage:0}},{"top-left":_(()=>[y(on,{borderless:"",dense:"",outlined:"",debounce:"300",modelValue:s.searchItem,"onUpdate:modelValue":a[0]||(a[0]=h=>s.searchItem=h),placeholder:"Suche"},{append:_(()=>[y(Oe,{name:"search"})]),_:1},8,["modelValue"])]),"top-right":_(()=>[g("div",Es,[L(U(s.currentBalance)+" ",1),Os])]),body:_(h=>[y(xe,{class:"q-ma-md",style:{"background-color":"transparent","border-width":"2px","border-color":"var(--q-info)","border-style":"solid"},onClick:w=>p.openSelectItem(h.row)},{default:_(()=>[y(ue,null,{default:_(()=>[g("div",Ms,U(h.row.name),1),g("div",Is,[y(qe,{color:"accent","text-color":"white"},{default:_(()=>[L(U(h.row.category),1)]),_:2},1024),h.row.isAlcoholic?(j(),te(qe,{key:0,color:"negative","text-color":"white",class:"q-mr-sm",icon:"sports_bar"},{default:_(()=>[L(" Alkoholisch ")]),_:1})):st("",!0),h.row.isOutOfStock?(j(),te(qe,{key:1,color:"warning","text-color":"black",class:"q-mr-sm",icon:"warning_amber"},{default:_(()=>[L(" Ausverkauft ")]),_:1})):st("",!0)])]),_:2},1024),y(Ve,{class:"flex flex-center column"},{default:_(()=>[g("div",js,[g("span",Rs,U(h.row.price),1),Us]),g("div",Fs,[g("span",Vs,"Gew\xE4hlte Menge: "+U(h.row.selectedQuantity),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:1},8,["rows","columns","filter"]),g("div",Bs,[y(le,{color:"primary",icon:"restart_alt",push:"",flat:"",style:{"margin-top":"20px",width:"10%"}}),y(le,{color:"primary",label:"Artikel kaufen",push:"",onClick:a[1]||(a[1]=h=>s.showConfirmPurchase=!0),disabled:p.areItemsSelected,style:{"margin-top":"20px",width:"80%"}},null,8,["disabled"])]),y(Ye,{modelValue:s.showAddItem,"onUpdate:modelValue":a[6]||(a[6]=h=>s.showAddItem=h)},{default:_(()=>[y(xe,{style:{width:"90vw"}},{default:_(()=>[y(ue,null,{default:_(()=>[g("div",Gs,U(s.selectedItem.name),1),g("div",Ns,[L(" Preis: "+U(s.selectedItem.price)+" ",1),Ws]),y(qe,{color:"accent","text-color":"white"},{default:_(()=>[L(U(s.selectedItem.category),1)]),_:1}),s.selectedItem.isAlcoholic?(j(),te(qe,{key:0,color:"negative","text-color":"white",class:"q-mr-sm",icon:"sports_bar"},{default:_(()=>[L(" Alkoholisch ")]),_:1})):st("",!0),g("div",Qs,[g("div",qs,U(s.selectedItem.selectedQuantity),1)]),g("div",Ls,[L(" ( neues Guthaben: "+U(s.cardBalance-s.selectedItem.price*s.selectedItem.selectedQuantity)+" ",1),Hs,L(" | zu zahlen "+U(s.selectedItem.price*s.selectedItem.selectedQuantity)+" ",1),zs,L(" ) ")]),g("div",Js,[y(le,{outline:"",round:"",color:"primary",disable:s.disableMinus,icon:"remove",onClick:a[2]||(a[2]=h=>p.changeInputValueClick("dec")),style:{margin:"10px"}},null,8,["disable"]),y(le,{outline:"",round:"",disable:s.disablePlus,style:{margin:"10px"},color:"primary",onClick:a[3]||(a[3]=h=>p.changeInputValueClick("inc")),icon:"add"},null,8,["disable"])])]),_:1}),y(Ve,{class:"row items-center justify-between"},{default:_(()=>[g("div",null,[de((j(),te(le,{color:"accent",outline:"",style:{width:"120px"},onClick:a[4]||(a[4]=h=>s.showAddItem=!1)},{default:_(()=>[L("Abbrechen")]),_:1})),[[Le]])]),g("div",Ys,[y(le,{style:{"background-color":"var(--q-primary)",width:"120px"},onClick:a[5]||(a[5]=h=>p.saveChanges()),label:"Speichern",class:"q-ml-sm"})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),y(Ye,{modelValue:s.showConfirmPurchase,"onUpdate:modelValue":a[9]||(a[9]=h=>s.showConfirmPurchase=h)},{default:_(()=>[y(xe,{style:{width:"90vw"}},{default:_(()=>[y(ue,null,{default:_(()=>[L(" Sind Sie sich sicher, dass Sie die ausgew\xE4hlten Artikel kaufen m\xF6chten? "),y(lr,{style:{"margin-top":"20px"},rows:p.filteredItems,"hide-bottom":"",pagination:{rowsPerPage:0},columns:s.columnsFiltered,"row-key":"name"},null,8,["rows","columns"])]),_:1}),y(ue,null,{default:_(()=>[y(sr),g("div",Ks,[L(" Neues Guthaben "+U(s.currentBalance)+" ",1),Xs])]),_:1}),y(Ve,{class:"row items-center justify-between"},{default:_(()=>[g("div",null,[de((j(),te(le,{color:"secondary",flat:"",style:{width:"120px"},onClick:a[7]||(a[7]=h=>s.showAddItem=!1)},{default:_(()=>[L("Abbrechen")]),_:1})),[[Le]])]),g("div",Zs,[y(le,{onClick:a[8]||(a[8]=h=>p.confirmPurchase()),style:{"background-color":"var(--q-primary)",width:"120px"},label:"Best\xE4tigen",class:"q-ml-sm"})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var tl=cr(Ds,[["render",el]]);const rl={components:{BuyItemFromStoreUser:tl},props:["selectedGroupUser"],data(){return{showActionDialog:!1,actionDialogType:1,groupName:"SV Bochum 99",currentSelectedUser:null,groupMembers:[{id:"212322",nickname:"Kolle",firstname:"Manuel",surname:"Riemann",image:"/development/group_images/weitmar_45.jpg",balance:24,groupRole:"Gruppeninhaber",profileImage:"/development/person_images/manuel_riemann.jpg"},{id:"212322",nickname:"Bambino",firstname:"Dani",surname:"de Witt",image:null,balance:5,groupRole:"Admin",profileImage:"/development/person_images/de_witt.jpg"},{id:"212322",nickname:"Der Knacker",firstname:"Oliver",surname:"Kahn",image:"/development/group_images/weitmar_45.jpg",balance:12,groupRole:"Mitglied",profileImage:"/development/person_images/oliver_kahn.jpg"},{id:"212322",nickname:"Elfer",firstname:"Thomas",surname:"M\xFCller",image:"/development/group_images/weitmar_45.jpg",balance:15,groupRole:"Mitglied",profileImage:"/development/person_images/thomas_mueller.jpg"}],groupItems:[],groupDetails:[],tab:"items",euroToTokenValue:1.5,arrayMarkerLabel:[{value:.5,label:"0,5"},{value:1,label:"1"},{value:1.5,label:"1,5"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"},{value:4,label:"4"},{value:4.5,label:"4.5"},{value:5,label:"5"}],selectedPaymentMethod:"transactionWithoutAutorization",groupImage:null,file:null,qrCodePayment:!1,currentGroup:null,originalGroupImage:null,originalGroupName:this.selectedGroupUser.groupName,originalFile:null,currentBalance:14,paymentMethod:2,showAuthPaymentDialog:!1,showChangeUserSettingsGroup:!1,historyColumns:[{name:"desc",required:!0,label:"Datum",align:"left",field:r=>r.transactionDate,format:r=>`${r}`,sortable:!0},{name:"itemName",align:"left",label:"Artikel",field:"itemName",sortable:!0},{name:"quantity",label:"Menge",align:"center",field:"quantity",sortable:!0},{name:"chargedAmount",label:"DITOs",align:"center",field:"chargedAmount",sortable:!0},{name:"status",label:"Status",align:"center",field:"status",sortable:!0}],historyData:[{transactionID:"AS213D",itemName:"Fiege Pils 0,33",quantity:2,chargedAmount:4,transactionDate:"15.01.2025",status:"Durchgef\xFChrt"},{transactionID:"AS253D",itemName:"Fiege Pils 0,33",quantity:2,chargedAmount:4,transactionDate:"18.01.2025",status:"Ausstehend"},{transactionID:"AS273D",itemName:"Fiege Pils 0,33",quantity:2,chargedAmount:4,transactionDate:"02.01.2025",status:"Durchgef\xFChrt"}],initialPagination:{sortBy:"desc",descending:!0,page:1,rowsPerPage:0}}},methods:{closeGroupView(){this.dialog=!1},processPayment(){this.paymentMethod==1?this.$q.notify({type:"positive",message:"Transaktion wurde erfolgreich durchgef\xFChrt! Bitte nehmen Sie sich die bezahlten Artikel!",timeout:2e3,position:"center"}):this.paymentMethod==2&&(this.showAuthPaymentDialog=!0)},saveNewUserSettings(){this.showChangeUserSettingsGroup=!1,this.$q.notify({type:"positive",message:"Benutzereinstellungen wurden erfolgreich abgespeichert!",timeout:2e3,position:"center"})}},mounted(){this.groupName=this.selectedGroupUser.groupName,this.currentGroup=this.selectedGroupUser,this.originalGroupName=this.selectedGroupUser.groupName,this.originalGroupImage=this.selectedGroupUser.groupIcon,this.selectedGroupUser.groupName=="SC Weitmar 45"?this.paymentMethod=1:this.paymentMethod=2}},nl={id:"q-app",style:{"max-width":"100vw","min-width":"100vw","max-height":"100vh","min-height":"100vh",position:"absolute",top:"0px",left:"0px",display:"flex","flex-direction":"column"}},al={class:"flex flex-center q-mb-md"},ol={class:"text-h6 text-center"},il={class:"col",align:"center"},sl=g("div",{class:"row"},[g("div",{class:"text-caption",style:{"margin-top":"10px"}}," Dies sind alle Transaktionen die du get\xE4tigt hast. Sollte eine Transaktion fehlerhaft sein, dann wende dich bitte an den Administrator der Gruppe, um diese Transaktion r\xFCckg\xE4ngig machen zu lassen. ")],-1),ll={class:"row"},cl={class:"col"},ul=g("div",{class:"text-subtitle"},"Dein Profil",-1),dl=["src"],fl={class:"text-body1"},ml={class:"text-weight-regular text-secondary"},hl={key:0,class:"text-caption text-primary"},pl={key:1,class:"text-caption text-warning"},vl={class:"row"},gl={class:"col"},yl=g("div",{class:"text-subtitle"},"Gruppenmitgleider",-1),bl=["src"],wl={class:"text-body1"},_l={class:"text-weight-regular text-secondary"},Cl={key:0,class:"text-caption text-primary"},Sl={key:1,class:"text-caption text-warning"},xl={class:"row items-center"},Tl={class:"flex flex-center q-mb-md"},kl=g("div",{class:"flex flex-center q-mb-md"},[g("div",{class:"text-h5"},"Zahlung wird autorisiert...")],-1),Pl=g("div",{class:"text-body",style:{"margin-top":"50px"}}," Deine Bestellung muss von einem Administrator der Gruppe autorisiert werden. Ein Administrator der Gruppe wurde informiert. ",-1),$l=g("div",{class:"text-caption",style:{"margin-top":"20px","margin-bottom":"50px"}}," Du kannst dieses Fenster schlie\xDFen und erh\xE4ltst dann eine Benachrichtigung, sobald die Bestellung autorisiert wurde. Alternativ kannst du in deiner Bestellhistorie den Status einsehen. ",-1),Al={class:"row items-center"};function Dl(r,a,o,c,s,p){const h=rn("BuyItemFromStoreUser");return j(),se("div",nl,[y(xe,{style:{"background-color":"var(--q-background)","max-width":"100vw","min-width":"100vw","max-height":"100vh","min-height":"100vh",position:"absolute",top:"0px",left:"0px",display:"flex","flex-direction":"column"}},{default:_(()=>[y(ue,{class:"text-white",style:{position:"relative"}},{default:_(()=>[g("div",al,[o.selectedGroupUser.groupIcon?(j(),te(oi,{key:1,src:o.selectedGroupUser.groupIcon,style:{width:"100px",height:"100px","border-radius":"50%"}},null,8,["src"])):(j(),te(Oe,{key:0,name:"groups",style:{"border-color":"var(--q-primary)","border-width":"3px","border-style":"solid","border-radius":"50%",padding:"10px"},size:"xl"}))]),g("div",ol,U(o.selectedGroupUser.groupName),1)]),_:1}),y(sr,{horizontal:"",inset:"",class:"q-mx-lg"}),y(ue,{style:{height:"70vh"}},{default:_(()=>[y(ii,{modelValue:s.tab,"onUpdate:modelValue":a[0]||(a[0]=w=>s.tab=w),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:_(()=>[y(ir,{name:"items",label:"Artikel"}),y(ir,{name:"history",label:"Historie"}),y(ir,{name:"members",label:"Mitglieder"})]),_:1},8,["modelValue"]),y(ai,{modelValue:s.tab,"onUpdate:modelValue":a[3]||(a[3]=w=>s.tab=w),animated:"",style:{"background-color":"transparent"}},{default:_(()=>[y(or,{name:"items"},{default:_(()=>[y(Wr,{style:{height:"60vh"}},{default:_(()=>[y(h,{onPaymentConfirmed:a[1]||(a[1]=w=>p.processPayment()),currentUserBalance:s.currentBalance},null,8,["currentUserBalance"])]),_:1})]),_:1}),y(or,{name:"history"},{default:_(()=>[g("div",il,[y(lr,{title:"Transaktionen",pagination:s.initialPagination,style:{height:"50vh"},rows:s.historyData,columns:s.historyColumns,"row-key":"transactionID","hide-bottom":""},{"body-cell-status":_(({row:w})=>[y(qe,{color:w.status==="Durchgef\xFChrt"?"positive":"negative","text-color":"white",icon:w.status=="Durchgef\xFChrt"?"check":"pending"},{default:_(()=>[L(U(w.status),1)]),_:2},1032,["color","icon"])]),_:1},8,["pagination","rows","columns"])]),sl]),_:1}),y(or,{name:"members"},{default:_(()=>[y(Wr,{style:{height:"60vh"}},{default:_(()=>[y(xe,{flat:"",style:{"border-radius":"10px","margin-bottom":"20px"}},{default:_(()=>[y(ue,null,{default:_(()=>[g("div",ll,[g("div",cl,[ul,y(Et,null,{default:_(()=>[de((j(),te(Ot,{clickable:"",onClick:a[2]||(a[2]=w=>s.showChangeUserSettingsGroup=!0)},{default:_(()=>[y(ye,{side:"",left:"",avatar:""},{default:_(()=>[y(lt,null,{default:_(()=>[g("img",{src:s.groupMembers[2].profileImage},null,8,dl)]),_:1})]),_:1}),y(ye,null,{default:_(()=>[g("div",fl,U(s.groupMembers[2].nickname),1),g("div",ml,U(s.groupMembers[2].firstname)+" "+U(s.groupMembers[2].surname),1),s.groupMembers[2].groupRole=="Mitglied"?(j(),se("div",hl,U(s.groupMembers[2].groupRole),1)):(j(),se("div",pl,U(s.groupMembers[2].groupRole),1))]),_:1}),y(ye,{side:"",right:"",avatar:""},{default:_(()=>[y(lt,null,{default:_(()=>[y(Oe,{name:"settings"})]),_:1})]),_:1})]),_:1})),[[Dt]])]),_:1})])])]),_:1})]),_:1}),y(xe,{flat:"",style:{"border-radius":"10px"}},{default:_(()=>[y(ue,null,{default:_(()=>[g("div",vl,[g("div",gl,[yl,y(Et,null,{default:_(()=>[(j(!0),se(Me,null,He(s.groupMembers,w=>de((j(),te(Ot,{key:w.id},{default:_(()=>[y(ye,{side:"",left:"",avatar:""},{default:_(()=>[y(lt,null,{default:_(()=>[g("img",{src:w.profileImage},null,8,bl)]),_:2},1024)]),_:2},1024),y(ye,null,{default:_(()=>[g("div",wl,U(w.nickname),1),g("div",_l,U(w.firstname)+" "+U(w.surname),1),w.groupRole=="Mitglied"?(j(),se("div",Cl,U(w.groupRole),1)):(j(),se("div",Sl,U(w.groupRole),1))]),_:2},1024)]),_:2},1024)),[[Dt]])),128))]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),s.tab!="settings"?(j(),te(Ve,{key:0,align:"center"},{default:_(()=>[de((j(),te(le,{color:"secondary",flat:"",onClick:a[4]||(a[4]=w=>this.dialog=!1)},{default:_(()=>[L("Schlie\xDFen")]),_:1})),[[Le]])]),_:1})):(j(),te(Ve,{key:1,class:"row items-center justify-between"},{default:_(()=>[g("div",null,[de((j(),te(le,{color:"secondary",flat:"",onClick:a[5]||(a[5]=w=>this.dialog=!1)},{default:_(()=>[L("Schlie\xDFen")]),_:1})),[[Le]])]),g("div",xl,[s.tab=="settings"?(j(),te(le,{key:0,style:{"background-color":"var(--q-positive)"},disable:r.saveDisabledGroupInfo,label:"Speichern",class:"q-ml-sm",onClick:a[6]||(a[6]=w=>r.saveNewSettings())},null,8,["disable"])):st("",!0)])]),_:1}))]),_:1}),y(Ye,{"transition-show":"slide-left","transition-hide":"slide-right","full-width":"","full-height":"",modelValue:s.showAuthPaymentDialog,"onUpdate:modelValue":a[8]||(a[8]=w=>s.showAuthPaymentDialog=w)},{default:_(()=>[y(xe,{style:{"background-color":"var(--q-background)","max-width":"100vw","min-width":"100vw","max-height":"100vh","min-height":"100vh",position:"absolute",top:"0px",left:"0px",display:"flex","flex-direction":"column"}},{default:_(()=>[y(ue,{class:"text-white"},{default:_(()=>[g("div",Tl,[y(Oe,{name:"visibility",size:"100px"})])]),_:1}),y(ue,{style:{"margin-top":"50px","margin-bottom":"50px"}},{default:_(()=>[kl]),_:1}),y(sr),y(ue,null,{default:_(()=>[Pl,$l]),_:1}),y(Ve,{class:"row items-center justify-center",style:{"margin-bottom":"50px"}},{default:_(()=>[de((j(),te(le,{color:"accent",push:"",style:{width:"120px"},onClick:a[7]||(a[7]=w=>this.dialog=!1)},{default:_(()=>[L("Schlie\xDFen")]),_:1})),[[Le]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),y(Ye,{"transition-show":"slide-left","transition-hide":"slide-right","full-width":"",modelValue:s.showChangeUserSettingsGroup,"onUpdate:modelValue":a[12]||(a[12]=w=>s.showChangeUserSettingsGroup=w)},{default:_(()=>[y(xe,{style:{"background-color":"var(--q-background)"}},{default:_(()=>[y(ue,{class:"text-white"},{default:_(()=>[y(on,{filled:"",label:"Spitzname",modelValue:s.groupMembers[0].nickname,"onUpdate:modelValue":a[9]||(a[9]=w=>s.groupMembers[0].nickname=w),type:"text",rules:[w=>w.length>0||"Bitte gebe ein Spitznamen ein!"],clearable:"",style:{width:"100%"}},null,8,["modelValue","rules"])]),_:1}),y(Ve,{class:"row items-center justify-between",style:{"margin-bottom":"50px"}},{default:_(()=>[g("div",null,[de((j(),te(le,{color:"secondary",flat:"",onClick:a[10]||(a[10]=w=>this.dialog=!1)},{default:_(()=>[L("Abbrechen")]),_:1})),[[Le]])]),g("div",Al,[y(le,{style:{"background-color":"var(--q-positive)"},label:"Speichern",disabled:s.groupMembers[0].nickname.length<=0,class:"q-ml-sm",onClick:a[11]||(a[11]=w=>p.saveNewUserSettings())},null,8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Rn=cr(rl,[["render",Dl]]);const El={class:"q-pa-md row-column-width"},Ol={class:"row"},Ml={class:"col",align:"center"},Il=g("div",{style:{"text-align":"center","font-size":"14px","font-weight":"300"}}," Gruppe erstellen ",-1),jl={class:"col",align:"center"},Rl=g("div",{style:{"text-align":"center","font-size":"14px","font-weight":"300"}}," Scanner ",-1),Ul=g("div",{class:"row"},[g("div",{class:"col"},[g("div",{class:"text-body1"},"Gruppen"),g("div",{class:"text-weight-regular text-secondary"}," Hier findest du nur die Gruppen in denen du Mitglied bist (nicht Inhaber oder Administrator). ")])],-1),Fl={class:"row"},Vl={class:"col"},Bl=g("div",{class:"row"},[g("div",{class:"col"},[g("div",{class:"text-weight-regular text-secondary",style:{"margin-bottom":"10px"}}," Gruppen ")])],-1),Gl=["src"],Nl={class:"text-body1"},Wl=g("img",{src:"/icons/token_yellow.png",style:{width:"10px"}},null,-1),Ql={class:"text-weight-regular text-secondary"},ql=g("div",{class:"row"},[g("div",{class:"col"},[g("div",{class:"text-body1"},"Meine Gruppen")])],-1),Ll={class:"row"},Hl={class:"col"},zl=g("div",{class:"row"},[g("div",{class:"col"},[g("div",{class:"text-weight-regular text-secondary",style:{"margin-bottom":"10px"}}," Gruppen ")])],-1),Jl=["src"],Yl={class:"text-body1"},Kl={class:"text-weight-regular text-secondary"},Xl={components:{GroupViewOwner:an,CreateNewGroup:nn,QRCodeScanner:jn,GroupViewUser:Rn},data(){return{showActionDialog:!1,currentSelectedGroupUser:null,actionDialogType:0,showBuyConsumptionCard:!1,showConsumptionCard:!1,showQRCodeScanner:!1,selectedCard:null,currentSelectedGroupAdmin:null,groups:[{id:"23FI9ASDU9098772",groupIcon:"/development/group_images/weitmar_45.jpg",groupName:"SC Weitmar 45",value:"18,00",createdAt:"12.3.2023"},{id:"ODO0123OASD23123",groupIcon:"/development/group_images/altenbochum.jpg",groupName:"FC Altenbochum 1920/28 e.V.",value:"12,00",createdAt:"01.2.2023"},{id:"OOTASD00123ASD",groupIcon:"/development/group_images/steinkuhl.png",groupName:"SV Bochum-Steinkuhl",value:"7,50",createdAt:"01.2.2022"},{id:"O0123123IWD90",groupIcon:"/development/group_images/vfl_bochum.jpg",groupName:"VfL Bochum",value:"10,00",createdAt:"09.3.2023"},{id:"GK12315ASD98932",groupIcon:"/development/group_images/bvb.png",groupName:"Dortmund BVB",value:"14,00",createdAt:"01.10.2023"}],groupsAdmin:[{id:"23FI9ASDU9098772",groupIcon:"/development/group_images/weitmar_45.jpg",groupName:"SC Weitmar 45",owner:"Siegfried Meier",members:12,maximumMembers:30},{id:"23FI9ASDU9098772",groupIcon:"/development/group_images/altenbochum.jpg",groupName:"FC Altenbochum 1920/28 e.V.",owner:"Deine Gruppe",members:142,maximumMembers:300}]}},methods:{onTabClick(r){this.currentTab=r},openConsumptionCard(r){this.selectedCard=r,this.showConsumptionCard=!0},openGroupUser(r){this.currentSelectedGroupUser=r,this.actionDialogType=3,this.showActionDialog=!0},handleGroupCreation(){this.showActionDialog=!1,this.$q.notify({type:"positive",message:"Die Gruppe wurde erfolgreich erstellt!",timeout:1e3,position:"center"})},openGroupOwner(r){this.currentSelectedGroupAdmin=r,this.actionDialogType=2,this.showActionDialog=!0}},mounted(){}},yc=Object.assign(Xl,{name:"DashboardUser"},{__name:"DashboardUser",setup(r){return(a,o)=>(j(),se(Me,null,[y(ni,{style:{"overflow-y":"scroll"}},{default:_(()=>[g("div",El,[g("div",Ol,[g("div",Ml,[y(le,{color:"accent",onClick:o[0]||(o[0]=c=>{a.actionDialogType=1,a.showActionDialog=!0}),size:"md",style:{width:"4em",height:"4em","border-radius":"10px","margin-bottom":"5px"}},{default:_(()=>[y(Oe,{center:"",size:"2em",name:"group_add"})]),_:1}),Il]),g("div",jl,[y(le,{color:"accent",size:"md",style:{width:"4em",height:"4em","border-radius":"10px","margin-bottom":"5px"}},{default:_(()=>[y(Oe,{center:"",size:"2em",name:"qr_code_scanner"})]),_:1}),Rl])]),Ul,g("div",Fl,[g("div",Vl,[y(xe,{flat:"",style:{"border-radius":"10px"}},{default:_(()=>[y(ue,null,{default:_(()=>[Bl,y(Et,null,{default:_(()=>[(j(!0),se(Me,null,He(a.groups,c=>de((j(),te(Ot,{clickable:"",key:c.id,onClick:s=>a.openGroupUser(c)},{default:_(()=>[y(ye,{side:"",left:"",avatar:""},{default:_(()=>[y(lt,null,{default:_(()=>[g("img",{src:c.groupIcon},null,8,Gl)]),_:2},1024)]),_:2},1024),y(ye,null,{default:_(()=>[g("div",Nl,[L(U(c.value)+" ",1),Wl]),g("div",Ql,U(c.groupName),1)]),_:2},1024),y(ye,{side:"",right:""},{default:_(()=>[y(Oe,{name:"keyboard_arrow_right",class:"text-secondary",style:{"font-size":"3rem"}})]),_:1})]),_:2},1032,["onClick"])),[[Dt]])),128))]),_:1})]),_:1})]),_:1})])]),ql,g("div",Ll,[g("div",Hl,[y(xe,{flat:"",style:{"border-radius":"10px"}},{default:_(()=>[y(ue,null,{default:_(()=>[zl,y(Et,null,{default:_(()=>[(j(!0),se(Me,null,He(a.groupsAdmin,c=>de((j(),te(Ot,{clickable:"",key:c.id,onClick:s=>a.openGroupOwner(c)},{default:_(()=>[y(ye,{side:"",left:"",avatar:""},{default:_(()=>[y(lt,null,{default:_(()=>[g("img",{src:c.groupIcon},null,8,Jl)]),_:2},1024)]),_:2},1024),y(ye,null,{default:_(()=>[g("div",Yl,U(c.groupName),1),g("div",Kl,U(c.members)+" / "+U(c.maximumMembers)+" Mitglieder ",1)]),_:2},1024),y(ye,{side:"",right:""},{default:_(()=>[y(Oe,{name:"keyboard_arrow_right",class:"text-secondary",style:{"font-size":"3rem"}})]),_:1})]),_:2},1032,["onClick"])),[[Dt]])),128))]),_:1})]),_:1})]),_:1})])])])]),_:1}),y(Ye,{"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",modelValue:a.showActionDialog,"onUpdate:modelValue":o[1]||(o[1]=c=>a.showActionDialog=c)},{default:_(()=>[a.actionDialogType==1?(j(),te(nn,{key:0,onGroupCreatedSuccess:a.handleGroupCreation},null,8,["onGroupCreatedSuccess"])):a.actionDialogType==2?(j(),te(an,{key:1,selectedGroupAdmin:a.currentSelectedGroupAdmin},null,8,["selectedGroupAdmin"])):a.actionDialogType==3?(j(),te(Rn,{key:2,selectedGroupUser:a.currentSelectedGroupUser},null,8,["selectedGroupUser"])):st("",!0)]),_:1},8,["modelValue"]),y(Ye,{"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",modelValue:a.showQRCodeScanner,"onUpdate:modelValue":o[2]||(o[2]=c=>a.showQRCodeScanner=c)},{default:_(()=>[y(jn)]),_:1},8,["modelValue"])],64))}});export{yc as default};
